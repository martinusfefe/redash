{"version":3,"file":"resizeObserver.js","names":["items","Map","checkItems","size","forEach","item","node","bounds","getBoundingClientRect","width","Math","round","height","callback","setTimeout","observe","has","shouldTrigger","set","delete"],"sources":["../../src/services/resizeObserver.ts"],"sourcesContent":["const items = new Map();\n\nfunction checkItems() {\n  if (items.size > 0) {\n    items.forEach((item, node) => {\n      const bounds = node.getBoundingClientRect();\n      // convert to int (because these numbers needed for comparisons), but preserve 1 decimal point\n      const width = Math.round(bounds.width * 10);\n      const height = Math.round(bounds.height * 10);\n\n      if (item.width !== width || item.height !== height) {\n        item.width = width;\n        item.height = height;\n        item.callback(node);\n      }\n    });\n\n    setTimeout(checkItems, 100);\n  }\n}\n\nexport default function observe(node: any, callback: any) {\n  if (node && !items.has(node)) {\n    const shouldTrigger = items.size === 0;\n    items.set(node, { callback });\n    if (shouldTrigger) {\n      checkItems();\n    }\n    return () => items.delete(node);\n  }\n  return () => {};\n}\n"],"mappings":";;;;;;AAAA,IAAMA,KAAK,GAAG,IAAIC,GAAG,CAAC,CAAC;AAEvB,SAASC,UAAUA,CAAA,EAAG;EACpB,IAAIF,KAAK,CAACG,IAAI,GAAG,CAAC,EAAE;IAClBH,KAAK,CAACI,OAAO,CAAC,CAACC,IAAI,EAAEC,IAAI,KAAK;MAC5B,IAAMC,MAAM,GAAGD,IAAI,CAACE,qBAAqB,CAAC,CAAC;MAC3C;MACA,IAAMC,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACJ,MAAM,CAACE,KAAK,GAAG,EAAE,CAAC;MAC3C,IAAMG,MAAM,GAAGF,IAAI,CAACC,KAAK,CAACJ,MAAM,CAACK,MAAM,GAAG,EAAE,CAAC;MAE7C,IAAIP,IAAI,CAACI,KAAK,KAAKA,KAAK,IAAIJ,IAAI,CAACO,MAAM,KAAKA,MAAM,EAAE;QAClDP,IAAI,CAACI,KAAK,GAAGA,KAAK;QAClBJ,IAAI,CAACO,MAAM,GAAGA,MAAM;QACpBP,IAAI,CAACQ,QAAQ,CAACP,IAAI,CAAC;MACrB;IACF,CAAC,CAAC;IAEFQ,UAAU,CAACZ,UAAU,EAAE,GAAG,CAAC;EAC7B;AACF;AAEe,SAASa,OAAOA,CAACT,IAAS,EAAEO,QAAa,EAAE;EACxD,IAAIP,IAAI,IAAI,CAACN,KAAK,CAACgB,GAAG,CAACV,IAAI,CAAC,EAAE;IAC5B,IAAMW,aAAa,GAAGjB,KAAK,CAACG,IAAI,KAAK,CAAC;IACtCH,KAAK,CAACkB,GAAG,CAACZ,IAAI,EAAE;MAAEO;IAAS,CAAC,CAAC;IAC7B,IAAII,aAAa,EAAE;MACjBf,UAAU,CAAC,CAAC;IACd;IACA,OAAO,MAAMF,KAAK,CAACmB,MAAM,CAACb,IAAI,CAAC;EACjC;EACA,OAAO,MAAM,CAAC,CAAC;AACjB"}
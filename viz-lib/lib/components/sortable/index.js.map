{"version":3,"file":"index.js","names":["isFunction","wrap","React","useRef","useState","cx","sortableContainer","sortableElement","sortableHandle","DragHandle","_ref","className","restProps","_objectWithoutProperties","_excluded","createElement","_extends","SortableContainerWrapper","_ref2","children","SortableElement","_ref3","SortableContainer","_ref4","disabled","containerComponent","containerProps","wrapperProps","_excluded2","containerRef","_useState","_useState2","_slicedToArray","isDragging","setIsDragging","_objectSpread","shouldCancelStart","helperContainer","current","updateBeforeSortStart","_len","arguments","length","args","Array","_key","onSortStart","_len2","_key2","event","preventDefault","onSortEnd","_len3","_key3","ref","ContainerComponent","defaultProps"],"sources":["../../../src/components/sortable/index.tsx"],"sourcesContent":["import { isFunction, wrap } from \"lodash\";\nimport React, { useRef, useState } from \"react\";\nimport cx from \"classnames\";\n// @ts-expect-error ts-migrate(2724) FIXME: Module '\"../../../node_modules/react-sortable-hoc/... Remove this comment to see the full error message\nimport { sortableContainer, sortableElement, sortableHandle } from \"react-sortable-hoc\";\n\nimport \"./style.less\";\n\nexport const DragHandle = sortableHandle(({ className, ...restProps }: any) => (\n  <div className={cx(\"drag-handle\", className)} {...restProps} />\n));\n\nexport const SortableContainerWrapper = sortableContainer(({ children }: any) => children);\n\nexport const SortableElement = sortableElement(({ children }: any) => children);\n\ntype OwnProps = {\n  disabled?: boolean;\n  containerComponent?: React.ReactElement;\n  containerProps?: any;\n  children?: React.ReactNode;\n};\n\ntype Props = OwnProps & typeof SortableContainer.defaultProps;\n\nexport function SortableContainer({ disabled, containerComponent, containerProps, children, ...wrapperProps }: Props) {\n  const containerRef = useRef();\n  const [isDragging, setIsDragging] = useState(false);\n\n  wrapperProps = { ...wrapperProps };\n  containerProps = { ...containerProps };\n\n  if (disabled) {\n    // Disabled state:\n    // - forbid drag'n'drop (and therefore no need to hook events\n    // - don't override anything on container element\n    // @ts-expect-error ts-migrate(2339) FIXME: Property 'shouldCancelStart' does not exist on typ... Remove this comment to see the full error message\n    wrapperProps.shouldCancelStart = () => true;\n  } else {\n    // Enabled state:\n\n    // - use container element as a default helper element\n    // @ts-expect-error\n    wrapperProps.helperContainer = wrap(wrapperProps.helperContainer, helperContainer =>\n      isFunction(helperContainer) ? helperContainer(containerRef.current) : containerRef.current\n    );\n\n    // - hook drag start/end events\n    // @ts-expect-error ts-migrate(2339) FIXME: Property 'updateBeforeSortStart' does not exist on... Remove this comment to see the full error message\n    wrapperProps.updateBeforeSortStart = wrap(wrapperProps.updateBeforeSortStart, (updateBeforeSortStart, ...args) => {\n      setIsDragging(true);\n      if (isFunction(updateBeforeSortStart)) {\n        updateBeforeSortStart(...args);\n      }\n    });\n    // @ts-expect-error\n    wrapperProps.onSortStart = wrap(wrapperProps.onSortStart, (onSortStart, ...args) => {\n      if (isFunction(onSortStart)) {\n        onSortStart(...args);\n      } else {\n        const event = args[1] as DragEvent;\n        event.preventDefault();\n      }\n    });\n\n    // @ts-expect-error ts-migrate(2339) FIXME: Property 'onSortEnd' does not exist on type '{}'.\n    wrapperProps.onSortEnd = wrap(wrapperProps.onSortEnd, (onSortEnd, ...args) => {\n      setIsDragging(false);\n      if (isFunction(onSortEnd)) {\n        onSortEnd(...args);\n      }\n    });\n\n    // - update container element: add classes and take a ref\n    containerProps.className = cx(\n      \"sortable-container\",\n      { \"sortable-container-dragging\": isDragging },\n      containerProps.className\n    );\n    containerProps.ref = containerRef;\n  }\n\n  const ContainerComponent = containerComponent;\n  return (\n    <SortableContainerWrapper {...wrapperProps}>\n      {/* @ts-expect-error ts-migrate(2604) FIXME: JSX element type 'ContainerComponent' does not hav... Remove this comment to see the full error message */}\n      <ContainerComponent {...containerProps}>{children}</ContainerComponent>\n    </SortableContainerWrapper>\n  );\n}\n\nSortableContainer.defaultProps = {\n  disabled: false,\n  containerComponent: \"div\",\n  containerProps: {},\n  children: null,\n};\n"],"mappings":"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"}
{"version":3,"file":"GeneralSettings.js","names":["_lodash","require","_react","_interopRequireWildcard","_useDebounce","_editor","_propTypes","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","toString","slice","constructor","name","Array","from","test","len","length","arr2","_i","Symbol","iterator","_s","_e","_x","_r","_arr","_n","_d","next","done","push","value","err","return","isArray","GeneralSettings","_ref","options","data","onOptionsChange","columnNames","useMemo","map","columns","c","_useDebouncedCallback","useDebouncedCallback","_useDebouncedCallback2","onOptionsChangeDebounced","createElement","Fragment","Section","Select","layout","label","placeholder","defaultValue","stepCol","colName","undefined","onChange","col","Option","concat","Input","displayAs","event","target","valueCol","Checkbox","checked","autoSort","allowClear","sortKeyCol","disabled","reverse","order","propTypes","EditorPropTypes"],"sources":["../../../../src/visualizations/funnel/Editor/GeneralSettings.tsx"],"sourcesContent":["import { map } from \"lodash\";\nimport React, { useMemo } from \"react\";\nimport { useDebouncedCallback } from \"use-debounce\";\nimport { Section, Select, Input, Checkbox } from \"@/components/visualizations/editor\";\nimport { EditorPropTypes } from \"@/visualizations/prop-types\";\n\nexport default function GeneralSettings({ options, data, onOptionsChange }: any) {\n  const columnNames = useMemo(() => map(data.columns, c => c.name), [data]);\n\n  const [onOptionsChangeDebounced] = useDebouncedCallback(onOptionsChange, 200);\n\n  return (\n    <React.Fragment>\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n      <Section>\n        <Select\n          layout=\"horizontal\"\n          label=\"Step Column\"\n          data-test=\"Funnel.StepColumn\"\n          placeholder=\"Choose column...\"\n          defaultValue={options.stepCol.colName || undefined}\n          onChange={(colName: any) => onOptionsChange({ stepCol: { colName: colName || null } })}>\n          {map(columnNames, col => (\n            // @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message\n            <Select.Option key={col} data-test={`Funnel.StepColumn.${col}`}>\n              {col}\n              {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\n            </Select.Option>\n          ))}\n        </Select>\n      </Section>\n\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n      <Section>\n        <Input\n          layout=\"horizontal\"\n          label=\"Step Column Title\"\n          data-test=\"Funnel.StepColumnTitle\"\n          defaultValue={options.stepCol.displayAs}\n          onChange={(event: any) => onOptionsChangeDebounced({ stepCol: { displayAs: event.target.value } })}\n        />\n      </Section>\n\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n      <Section>\n        <Select\n          layout=\"horizontal\"\n          label=\"Value Column\"\n          data-test=\"Funnel.ValueColumn\"\n          placeholder=\"Choose column...\"\n          defaultValue={options.valueCol.colName || undefined}\n          onChange={(colName: any) => onOptionsChange({ valueCol: { colName: colName || null } })}>\n          {map(columnNames, col => (\n            // @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message\n            <Select.Option key={col} data-test={`Funnel.ValueColumn.${col}`}>\n              {col}\n              {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\n            </Select.Option>\n          ))}\n        </Select>\n      </Section>\n\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n      <Section>\n        <Input\n          layout=\"horizontal\"\n          label=\"Value Column Title\"\n          data-test=\"Funnel.ValueColumnTitle\"\n          defaultValue={options.valueCol.displayAs}\n          onChange={(event: any) => onOptionsChangeDebounced({ valueCol: { displayAs: event.target.value } })}\n        />\n      </Section>\n\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n      <Section>\n        <Checkbox\n          data-test=\"Funnel.CustomSort\"\n          checked={!options.autoSort}\n          onChange={event => onOptionsChange({ autoSort: !event.target.checked })}>\n          Custom Sorting\n        </Checkbox>\n      </Section>\n\n      {!options.autoSort && (\n        <React.Fragment>\n          {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n          <Section>\n            <Select\n              layout=\"horizontal\"\n              label=\"Sort Column\"\n              data-test=\"Funnel.SortColumn\"\n              allowClear\n              placeholder=\"Choose column...\"\n              defaultValue={options.sortKeyCol.colName || undefined}\n              onChange={(colName: any) => onOptionsChange({ sortKeyCol: { colName: colName || null } })}>\n              {map(columnNames, col => (\n                // @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message\n                <Select.Option key={col} data-test={`Funnel.SortColumn.${col}`}>\n                  {col}\n                  {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\n                </Select.Option>\n              ))}\n            </Select>\n          </Section>\n\n          {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n          <Section>\n            <Select\n              layout=\"horizontal\"\n              label=\"Sort Order\"\n              data-test=\"Funnel.SortDirection\"\n              disabled={!options.sortKeyCol.colName}\n              defaultValue={options.sortKeyCol.reverse ? \"desc\" : \"asc\"}\n              onChange={(order: any) => onOptionsChange({ sortKeyCol: { reverse: order === \"desc\" } })}>\n              {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\n              <Select.Option value=\"asc\" data-test=\"Funnel.SortDirection.Ascending\">\n                ascending\n                {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\n              </Select.Option>\n              {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\n              <Select.Option value=\"desc\" data-test=\"Funnel.SortDirection.Descending\">\n                descending\n                {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\n              </Select.Option>\n            </Select>\n          </Section>\n        </React.Fragment>\n      )}\n    </React.Fragment>\n  );\n}\n\nGeneralSettings.propTypes = EditorPropTypes;\n"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AACA,IAAAC,MAAA,GAAAC,uBAAA,CAAAF,OAAA;AACA,IAAAG,YAAA,GAAAH,OAAA;AACA,IAAAI,OAAA,GAAAJ,OAAA;AACA,IAAAK,UAAA,GAAAL,OAAA;AAA8D,SAAAM,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,yBAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAL,wBAAAS,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAAA,SAAAW,eAAAC,GAAA,EAAAC,CAAA,WAAAC,eAAA,CAAAF,GAAA,KAAAG,qBAAA,CAAAH,GAAA,EAAAC,CAAA,KAAAG,2BAAA,CAAAJ,GAAA,EAAAC,CAAA,KAAAI,gBAAA;AAAA,SAAAA,iBAAA,cAAAC,SAAA;AAAA,SAAAF,4BAAAG,CAAA,EAAAC,MAAA,SAAAD,CAAA,qBAAAA,CAAA,sBAAAE,iBAAA,CAAAF,CAAA,EAAAC,MAAA,OAAAE,CAAA,GAAApB,MAAA,CAAAI,SAAA,CAAAiB,QAAA,CAAAf,IAAA,CAAAW,CAAA,EAAAK,KAAA,aAAAF,CAAA,iBAAAH,CAAA,CAAAM,WAAA,EAAAH,CAAA,GAAAH,CAAA,CAAAM,WAAA,CAAAC,IAAA,MAAAJ,CAAA,cAAAA,CAAA,mBAAAK,KAAA,CAAAC,IAAA,CAAAT,CAAA,OAAAG,CAAA,+DAAAO,IAAA,CAAAP,CAAA,UAAAD,iBAAA,CAAAF,CAAA,EAAAC,MAAA;AAAA,SAAAC,kBAAAT,GAAA,EAAAkB,GAAA,QAAAA,GAAA,YAAAA,GAAA,GAAAlB,GAAA,CAAAmB,MAAA,EAAAD,GAAA,GAAAlB,GAAA,CAAAmB,MAAA,WAAAlB,CAAA,MAAAmB,IAAA,OAAAL,KAAA,CAAAG,GAAA,GAAAjB,CAAA,GAAAiB,GAAA,EAAAjB,CAAA,IAAAmB,IAAA,CAAAnB,CAAA,IAAAD,GAAA,CAAAC,CAAA,UAAAmB,IAAA;AAAA,SAAAjB,sBAAAH,GAAA,EAAAC,CAAA,QAAAoB,EAAA,WAAArB,GAAA,gCAAAsB,MAAA,IAAAtB,GAAA,CAAAsB,MAAA,CAAAC,QAAA,KAAAvB,GAAA,4BAAAqB,EAAA,QAAAG,EAAA,EAAAC,EAAA,EAAAC,EAAA,EAAAC,EAAA,EAAAC,IAAA,OAAAC,EAAA,OAAAC,EAAA,iBAAAJ,EAAA,IAAAL,EAAA,GAAAA,EAAA,CAAAzB,IAAA,CAAAI,GAAA,GAAA+B,IAAA,QAAA9B,CAAA,QAAAX,MAAA,CAAA+B,EAAA,MAAAA,EAAA,UAAAQ,EAAA,uBAAAA,EAAA,IAAAL,EAAA,GAAAE,EAAA,CAAA9B,IAAA,CAAAyB,EAAA,GAAAW,IAAA,MAAAJ,IAAA,CAAAK,IAAA,CAAAT,EAAA,CAAAU,KAAA,GAAAN,IAAA,CAAAT,MAAA,KAAAlB,CAAA,GAAA4B,EAAA,iBAAAM,GAAA,IAAAL,EAAA,OAAAL,EAAA,GAAAU,GAAA,yBAAAN,EAAA,YAAAR,EAAA,CAAAe,MAAA,KAAAT,EAAA,GAAAN,EAAA,CAAAe,MAAA,IAAA9C,MAAA,CAAAqC,EAAA,MAAAA,EAAA,2BAAAG,EAAA,QAAAL,EAAA,aAAAG,IAAA;AAAA,SAAA1B,gBAAAF,GAAA,QAAAe,KAAA,CAAAsB,OAAA,CAAArC,GAAA,UAAAA,GAAA;AAE/C,SAASsC,eAAeA,CAAAC,IAAA,EAA0C;EAAA,IAAvCC,OAAO,GAAAD,IAAA,CAAPC,OAAO;IAAEC,IAAI,GAAAF,IAAA,CAAJE,IAAI;IAAEC,eAAe,GAAAH,IAAA,CAAfG,eAAe;EACtE,IAAMC,WAAW,GAAG,IAAAC,cAAO,EAAC,MAAM,IAAAC,WAAG,EAACJ,IAAI,CAACK,OAAO,EAAEC,CAAC,IAAIA,CAAC,CAACjC,IAAI,CAAC,EAAE,CAAC2B,IAAI,CAAC,CAAC;EAEzE,IAAAO,qBAAA,GAAmC,IAAAC,iCAAoB,EAACP,eAAe,EAAE,GAAG,CAAC;IAAAQ,sBAAA,GAAAnD,cAAA,CAAAiD,qBAAA;IAAtEG,wBAAwB,GAAAD,sBAAA;EAE/B,oBACE9E,MAAA,CAAAY,OAAA,CAAAoE,aAAA,CAAChF,MAAA,CAAAY,OAAK,CAACqE,QAAQ,qBAEbjF,MAAA,CAAAY,OAAA,CAAAoE,aAAA,CAAC7E,OAAA,CAAA+E,OAAO,qBACNlF,MAAA,CAAAY,OAAA,CAAAoE,aAAA,CAAC7E,OAAA,CAAAgF,MAAM;IACLC,MAAM,EAAC,YAAY;IACnBC,KAAK,EAAC,aAAa;IACnB,aAAU,mBAAmB;IAC7BC,WAAW,EAAC,kBAAkB;IAC9BC,YAAY,EAAEnB,OAAO,CAACoB,OAAO,CAACC,OAAO,IAAIC,SAAU;IACnDC,QAAQ,EAAGF,OAAY,IAAKnB,eAAe,CAAC;MAAEkB,OAAO,EAAE;QAAEC,OAAO,EAAEA,OAAO,IAAI;MAAK;IAAE,CAAC;EAAE,GACtF,IAAAhB,WAAG,EAACF,WAAW,EAAEqB,GAAG;EAAA;EACnB;EACA5F,MAAA,CAAAY,OAAA,CAAAoE,aAAA,CAAC7E,OAAA,CAAAgF,MAAM,CAACU,MAAM;IAACxE,GAAG,EAAEuE,GAAI;IAAC,kCAAAE,MAAA,CAAgCF,GAAG;EAAG,GAC5DA,GAEY,CAChB,CACK,CACD,CAAC,eAGV5F,MAAA,CAAAY,OAAA,CAAAoE,aAAA,CAAC7E,OAAA,CAAA+E,OAAO,qBACNlF,MAAA,CAAAY,OAAA,CAAAoE,aAAA,CAAC7E,OAAA,CAAA4F,KAAK;IACJX,MAAM,EAAC,YAAY;IACnBC,KAAK,EAAC,mBAAmB;IACzB,aAAU,wBAAwB;IAClCE,YAAY,EAAEnB,OAAO,CAACoB,OAAO,CAACQ,SAAU;IACxCL,QAAQ,EAAGM,KAAU,IAAKlB,wBAAwB,CAAC;MAAES,OAAO,EAAE;QAAEQ,SAAS,EAAEC,KAAK,CAACC,MAAM,CAACpC;MAAM;IAAE,CAAC;EAAE,CACpG,CACM,CAAC,eAGV9D,MAAA,CAAAY,OAAA,CAAAoE,aAAA,CAAC7E,OAAA,CAAA+E,OAAO,qBACNlF,MAAA,CAAAY,OAAA,CAAAoE,aAAA,CAAC7E,OAAA,CAAAgF,MAAM;IACLC,MAAM,EAAC,YAAY;IACnBC,KAAK,EAAC,cAAc;IACpB,aAAU,oBAAoB;IAC9BC,WAAW,EAAC,kBAAkB;IAC9BC,YAAY,EAAEnB,OAAO,CAAC+B,QAAQ,CAACV,OAAO,IAAIC,SAAU;IACpDC,QAAQ,EAAGF,OAAY,IAAKnB,eAAe,CAAC;MAAE6B,QAAQ,EAAE;QAAEV,OAAO,EAAEA,OAAO,IAAI;MAAK;IAAE,CAAC;EAAE,GACvF,IAAAhB,WAAG,EAACF,WAAW,EAAEqB,GAAG;EAAA;EACnB;EACA5F,MAAA,CAAAY,OAAA,CAAAoE,aAAA,CAAC7E,OAAA,CAAAgF,MAAM,CAACU,MAAM;IAACxE,GAAG,EAAEuE,GAAI;IAAC,mCAAAE,MAAA,CAAiCF,GAAG;EAAG,GAC7DA,GAEY,CAChB,CACK,CACD,CAAC,eAGV5F,MAAA,CAAAY,OAAA,CAAAoE,aAAA,CAAC7E,OAAA,CAAA+E,OAAO,qBACNlF,MAAA,CAAAY,OAAA,CAAAoE,aAAA,CAAC7E,OAAA,CAAA4F,KAAK;IACJX,MAAM,EAAC,YAAY;IACnBC,KAAK,EAAC,oBAAoB;IAC1B,aAAU,yBAAyB;IACnCE,YAAY,EAAEnB,OAAO,CAAC+B,QAAQ,CAACH,SAAU;IACzCL,QAAQ,EAAGM,KAAU,IAAKlB,wBAAwB,CAAC;MAAEoB,QAAQ,EAAE;QAAEH,SAAS,EAAEC,KAAK,CAACC,MAAM,CAACpC;MAAM;IAAE,CAAC;EAAE,CACrG,CACM,CAAC,eAGV9D,MAAA,CAAAY,OAAA,CAAAoE,aAAA,CAAC7E,OAAA,CAAA+E,OAAO,qBACNlF,MAAA,CAAAY,OAAA,CAAAoE,aAAA,CAAC7E,OAAA,CAAAiG,QAAQ;IACP,aAAU,mBAAmB;IAC7BC,OAAO,EAAE,CAACjC,OAAO,CAACkC,QAAS;IAC3BX,QAAQ,EAAEM,KAAK,IAAI3B,eAAe,CAAC;MAAEgC,QAAQ,EAAE,CAACL,KAAK,CAACC,MAAM,CAACG;IAAQ,CAAC;EAAE,GAAC,gBAEjE,CACH,CAAC,EAET,CAACjC,OAAO,CAACkC,QAAQ,iBAChBtG,MAAA,CAAAY,OAAA,CAAAoE,aAAA,CAAChF,MAAA,CAAAY,OAAK,CAACqE,QAAQ,qBAEbjF,MAAA,CAAAY,OAAA,CAAAoE,aAAA,CAAC7E,OAAA,CAAA+E,OAAO,qBACNlF,MAAA,CAAAY,OAAA,CAAAoE,aAAA,CAAC7E,OAAA,CAAAgF,MAAM;IACLC,MAAM,EAAC,YAAY;IACnBC,KAAK,EAAC,aAAa;IACnB,aAAU,mBAAmB;IAC7BkB,UAAU;IACVjB,WAAW,EAAC,kBAAkB;IAC9BC,YAAY,EAAEnB,OAAO,CAACoC,UAAU,CAACf,OAAO,IAAIC,SAAU;IACtDC,QAAQ,EAAGF,OAAY,IAAKnB,eAAe,CAAC;MAAEkC,UAAU,EAAE;QAAEf,OAAO,EAAEA,OAAO,IAAI;MAAK;IAAE,CAAC;EAAE,GACzF,IAAAhB,WAAG,EAACF,WAAW,EAAEqB,GAAG;EAAA;EACnB;EACA5F,MAAA,CAAAY,OAAA,CAAAoE,aAAA,CAAC7E,OAAA,CAAAgF,MAAM,CAACU,MAAM;IAACxE,GAAG,EAAEuE,GAAI;IAAC,kCAAAE,MAAA,CAAgCF,GAAG;EAAG,GAC5DA,GAEY,CAChB,CACK,CACD,CAAC,eAGV5F,MAAA,CAAAY,OAAA,CAAAoE,aAAA,CAAC7E,OAAA,CAAA+E,OAAO,qBACNlF,MAAA,CAAAY,OAAA,CAAAoE,aAAA,CAAC7E,OAAA,CAAAgF,MAAM;IACLC,MAAM,EAAC,YAAY;IACnBC,KAAK,EAAC,YAAY;IAClB,aAAU,sBAAsB;IAChCoB,QAAQ,EAAE,CAACrC,OAAO,CAACoC,UAAU,CAACf,OAAQ;IACtCF,YAAY,EAAEnB,OAAO,CAACoC,UAAU,CAACE,OAAO,GAAG,MAAM,GAAG,KAAM;IAC1Df,QAAQ,EAAGgB,KAAU,IAAKrC,eAAe,CAAC;MAAEkC,UAAU,EAAE;QAAEE,OAAO,EAAEC,KAAK,KAAK;MAAO;IAAE,CAAC;EAAE,gBAEzF3G,MAAA,CAAAY,OAAA,CAAAoE,aAAA,CAAC7E,OAAA,CAAAgF,MAAM,CAACU,MAAM;IAAC/B,KAAK,EAAC,KAAK;IAAC,aAAU;EAAgC,GAAC,WAGvD,CAAC,eAEhB9D,MAAA,CAAAY,OAAA,CAAAoE,aAAA,CAAC7E,OAAA,CAAAgF,MAAM,CAACU,MAAM;IAAC/B,KAAK,EAAC,MAAM;IAAC,aAAU;EAAiC,GAAC,YAGzD,CACT,CACD,CACK,CAEJ,CAAC;AAErB;AAEAI,eAAe,CAAC0C,SAAS,GAAGC,0BAAe"}
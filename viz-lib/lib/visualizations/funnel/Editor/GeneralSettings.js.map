{"version":3,"file":"GeneralSettings.js","names":["map","React","useMemo","useDebouncedCallback","Section","Select","Input","Checkbox","EditorPropTypes","GeneralSettings","_ref","options","data","onOptionsChange","columnNames","columns","c","name","_useDebouncedCallback","_useDebouncedCallback2","_slicedToArray","onOptionsChangeDebounced","createElement","Fragment","layout","label","placeholder","defaultValue","stepCol","colName","undefined","onChange","col","Option","key","concat","displayAs","event","target","value","valueCol","checked","autoSort","allowClear","sortKeyCol","disabled","reverse","order","propTypes"],"sources":["../../../../src/visualizations/funnel/Editor/GeneralSettings.tsx"],"sourcesContent":["import { map } from \"lodash\";\nimport React, { useMemo } from \"react\";\nimport { useDebouncedCallback } from \"use-debounce\";\nimport { Section, Select, Input, Checkbox } from \"@/components/visualizations/editor\";\nimport { EditorPropTypes } from \"@/visualizations/prop-types\";\n\nexport default function GeneralSettings({ options, data, onOptionsChange }: any) {\n  const columnNames = useMemo(() => map(data.columns, c => c.name), [data]);\n\n  const [onOptionsChangeDebounced] = useDebouncedCallback(onOptionsChange, 200);\n\n  return (\n    <React.Fragment>\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n      <Section>\n        <Select\n          layout=\"horizontal\"\n          label=\"Step Column\"\n          data-test=\"Funnel.StepColumn\"\n          placeholder=\"Choose column...\"\n          defaultValue={options.stepCol.colName || undefined}\n          onChange={(colName: any) => onOptionsChange({ stepCol: { colName: colName || null } })}>\n          {map(columnNames, col => (\n            // @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message\n            <Select.Option key={col} data-test={`Funnel.StepColumn.${col}`}>\n              {col}\n              {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\n            </Select.Option>\n          ))}\n        </Select>\n      </Section>\n\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n      <Section>\n        <Input\n          layout=\"horizontal\"\n          label=\"Step Column Title\"\n          data-test=\"Funnel.StepColumnTitle\"\n          defaultValue={options.stepCol.displayAs}\n          onChange={(event: any) => onOptionsChangeDebounced({ stepCol: { displayAs: event.target.value } })}\n        />\n      </Section>\n\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n      <Section>\n        <Select\n          layout=\"horizontal\"\n          label=\"Value Column\"\n          data-test=\"Funnel.ValueColumn\"\n          placeholder=\"Choose column...\"\n          defaultValue={options.valueCol.colName || undefined}\n          onChange={(colName: any) => onOptionsChange({ valueCol: { colName: colName || null } })}>\n          {map(columnNames, col => (\n            // @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message\n            <Select.Option key={col} data-test={`Funnel.ValueColumn.${col}`}>\n              {col}\n              {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\n            </Select.Option>\n          ))}\n        </Select>\n      </Section>\n\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n      <Section>\n        <Input\n          layout=\"horizontal\"\n          label=\"Value Column Title\"\n          data-test=\"Funnel.ValueColumnTitle\"\n          defaultValue={options.valueCol.displayAs}\n          onChange={(event: any) => onOptionsChangeDebounced({ valueCol: { displayAs: event.target.value } })}\n        />\n      </Section>\n\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n      <Section>\n        <Checkbox\n          data-test=\"Funnel.CustomSort\"\n          checked={!options.autoSort}\n          onChange={event => onOptionsChange({ autoSort: !event.target.checked })}>\n          Custom Sorting\n        </Checkbox>\n      </Section>\n\n      {!options.autoSort && (\n        <React.Fragment>\n          {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n          <Section>\n            <Select\n              layout=\"horizontal\"\n              label=\"Sort Column\"\n              data-test=\"Funnel.SortColumn\"\n              allowClear\n              placeholder=\"Choose column...\"\n              defaultValue={options.sortKeyCol.colName || undefined}\n              onChange={(colName: any) => onOptionsChange({ sortKeyCol: { colName: colName || null } })}>\n              {map(columnNames, col => (\n                // @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message\n                <Select.Option key={col} data-test={`Funnel.SortColumn.${col}`}>\n                  {col}\n                  {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\n                </Select.Option>\n              ))}\n            </Select>\n          </Section>\n\n          {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n          <Section>\n            <Select\n              layout=\"horizontal\"\n              label=\"Sort Order\"\n              data-test=\"Funnel.SortDirection\"\n              disabled={!options.sortKeyCol.colName}\n              defaultValue={options.sortKeyCol.reverse ? \"desc\" : \"asc\"}\n              onChange={(order: any) => onOptionsChange({ sortKeyCol: { reverse: order === \"desc\" } })}>\n              {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\n              <Select.Option value=\"asc\" data-test=\"Funnel.SortDirection.Ascending\">\n                ascending\n                {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\n              </Select.Option>\n              {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\n              <Select.Option value=\"desc\" data-test=\"Funnel.SortDirection.Descending\">\n                descending\n                {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\n              </Select.Option>\n            </Select>\n          </Section>\n        </React.Fragment>\n      )}\n    </React.Fragment>\n  );\n}\n\nGeneralSettings.propTypes = EditorPropTypes;\n"],"mappings":";;;;;;AAAA,SAASA,GAAG,QAAQ,QAAQ;AAC5B,OAAOC,KAAK,IAAIC,OAAO,QAAQ,OAAO;AACtC,SAASC,oBAAoB,QAAQ,cAAc;AACnD,SAASC,OAAO,EAAEC,MAAM,EAAEC,KAAK,EAAEC,QAAQ;AACzC,SAASC,eAAe;AAExB,eAAe,SAASC,eAAeA,CAAAC,IAAA,EAA0C;EAAA,IAAvCC,OAAO,GAAAD,IAAA,CAAPC,OAAO;IAAEC,IAAI,GAAAF,IAAA,CAAJE,IAAI;IAAEC,eAAe,GAAAH,IAAA,CAAfG,eAAe;EACtE,IAAMC,WAAW,GAAGZ,OAAO,CAAC,MAAMF,GAAG,CAACY,IAAI,CAACG,OAAO,EAAEC,CAAC,IAAIA,CAAC,CAACC,IAAI,CAAC,EAAE,CAACL,IAAI,CAAC,CAAC;EAEzE,IAAAM,qBAAA,GAAmCf,oBAAoB,CAACU,eAAe,EAAE,GAAG,CAAC;IAAAM,sBAAA,GAAAC,cAAA,CAAAF,qBAAA;IAAtEG,wBAAwB,GAAAF,sBAAA;EAE/B,oBACElB,KAAA,CAAAqB,aAAA,CAACrB,KAAK,CAACsB,QAAQ,qBAEbtB,KAAA,CAAAqB,aAAA,CAAClB,OAAO,qBACNH,KAAA,CAAAqB,aAAA,CAACjB,MAAM;IACLmB,MAAM,EAAC,YAAY;IACnBC,KAAK,EAAC,aAAa;IACnB,aAAU,mBAAmB;IAC7BC,WAAW,EAAC,kBAAkB;IAC9BC,YAAY,EAAEhB,OAAO,CAACiB,OAAO,CAACC,OAAO,IAAIC,SAAU;IACnDC,QAAQ,EAAGF,OAAY,IAAKhB,eAAe,CAAC;MAAEe,OAAO,EAAE;QAAEC,OAAO,EAAEA,OAAO,IAAI;MAAK;IAAE,CAAC;EAAE,GACtF7B,GAAG,CAACc,WAAW,EAAEkB,GAAG;EAAA;EACnB;EACA/B,KAAA,CAAAqB,aAAA,CAACjB,MAAM,CAAC4B,MAAM;IAACC,GAAG,EAAEF,GAAI;IAAC,kCAAAG,MAAA,CAAgCH,GAAG;EAAG,GAC5DA,GAEY,CAChB,CACK,CACD,CAAC,eAGV/B,KAAA,CAAAqB,aAAA,CAAClB,OAAO,qBACNH,KAAA,CAAAqB,aAAA,CAAChB,KAAK;IACJkB,MAAM,EAAC,YAAY;IACnBC,KAAK,EAAC,mBAAmB;IACzB,aAAU,wBAAwB;IAClCE,YAAY,EAAEhB,OAAO,CAACiB,OAAO,CAACQ,SAAU;IACxCL,QAAQ,EAAGM,KAAU,IAAKhB,wBAAwB,CAAC;MAAEO,OAAO,EAAE;QAAEQ,SAAS,EAAEC,KAAK,CAACC,MAAM,CAACC;MAAM;IAAE,CAAC;EAAE,CACpG,CACM,CAAC,eAGVtC,KAAA,CAAAqB,aAAA,CAAClB,OAAO,qBACNH,KAAA,CAAAqB,aAAA,CAACjB,MAAM;IACLmB,MAAM,EAAC,YAAY;IACnBC,KAAK,EAAC,cAAc;IACpB,aAAU,oBAAoB;IAC9BC,WAAW,EAAC,kBAAkB;IAC9BC,YAAY,EAAEhB,OAAO,CAAC6B,QAAQ,CAACX,OAAO,IAAIC,SAAU;IACpDC,QAAQ,EAAGF,OAAY,IAAKhB,eAAe,CAAC;MAAE2B,QAAQ,EAAE;QAAEX,OAAO,EAAEA,OAAO,IAAI;MAAK;IAAE,CAAC;EAAE,GACvF7B,GAAG,CAACc,WAAW,EAAEkB,GAAG;EAAA;EACnB;EACA/B,KAAA,CAAAqB,aAAA,CAACjB,MAAM,CAAC4B,MAAM;IAACC,GAAG,EAAEF,GAAI;IAAC,mCAAAG,MAAA,CAAiCH,GAAG;EAAG,GAC7DA,GAEY,CAChB,CACK,CACD,CAAC,eAGV/B,KAAA,CAAAqB,aAAA,CAAClB,OAAO,qBACNH,KAAA,CAAAqB,aAAA,CAAChB,KAAK;IACJkB,MAAM,EAAC,YAAY;IACnBC,KAAK,EAAC,oBAAoB;IAC1B,aAAU,yBAAyB;IACnCE,YAAY,EAAEhB,OAAO,CAAC6B,QAAQ,CAACJ,SAAU;IACzCL,QAAQ,EAAGM,KAAU,IAAKhB,wBAAwB,CAAC;MAAEmB,QAAQ,EAAE;QAAEJ,SAAS,EAAEC,KAAK,CAACC,MAAM,CAACC;MAAM;IAAE,CAAC;EAAE,CACrG,CACM,CAAC,eAGVtC,KAAA,CAAAqB,aAAA,CAAClB,OAAO,qBACNH,KAAA,CAAAqB,aAAA,CAACf,QAAQ;IACP,aAAU,mBAAmB;IAC7BkC,OAAO,EAAE,CAAC9B,OAAO,CAAC+B,QAAS;IAC3BX,QAAQ,EAAEM,KAAK,IAAIxB,eAAe,CAAC;MAAE6B,QAAQ,EAAE,CAACL,KAAK,CAACC,MAAM,CAACG;IAAQ,CAAC;EAAE,GAAC,gBAEjE,CACH,CAAC,EAET,CAAC9B,OAAO,CAAC+B,QAAQ,iBAChBzC,KAAA,CAAAqB,aAAA,CAACrB,KAAK,CAACsB,QAAQ,qBAEbtB,KAAA,CAAAqB,aAAA,CAAClB,OAAO,qBACNH,KAAA,CAAAqB,aAAA,CAACjB,MAAM;IACLmB,MAAM,EAAC,YAAY;IACnBC,KAAK,EAAC,aAAa;IACnB,aAAU,mBAAmB;IAC7BkB,UAAU;IACVjB,WAAW,EAAC,kBAAkB;IAC9BC,YAAY,EAAEhB,OAAO,CAACiC,UAAU,CAACf,OAAO,IAAIC,SAAU;IACtDC,QAAQ,EAAGF,OAAY,IAAKhB,eAAe,CAAC;MAAE+B,UAAU,EAAE;QAAEf,OAAO,EAAEA,OAAO,IAAI;MAAK;IAAE,CAAC;EAAE,GACzF7B,GAAG,CAACc,WAAW,EAAEkB,GAAG;EAAA;EACnB;EACA/B,KAAA,CAAAqB,aAAA,CAACjB,MAAM,CAAC4B,MAAM;IAACC,GAAG,EAAEF,GAAI;IAAC,kCAAAG,MAAA,CAAgCH,GAAG;EAAG,GAC5DA,GAEY,CAChB,CACK,CACD,CAAC,eAGV/B,KAAA,CAAAqB,aAAA,CAAClB,OAAO,qBACNH,KAAA,CAAAqB,aAAA,CAACjB,MAAM;IACLmB,MAAM,EAAC,YAAY;IACnBC,KAAK,EAAC,YAAY;IAClB,aAAU,sBAAsB;IAChCoB,QAAQ,EAAE,CAAClC,OAAO,CAACiC,UAAU,CAACf,OAAQ;IACtCF,YAAY,EAAEhB,OAAO,CAACiC,UAAU,CAACE,OAAO,GAAG,MAAM,GAAG,KAAM;IAC1Df,QAAQ,EAAGgB,KAAU,IAAKlC,eAAe,CAAC;MAAE+B,UAAU,EAAE;QAAEE,OAAO,EAAEC,KAAK,KAAK;MAAO;IAAE,CAAC;EAAE,gBAEzF9C,KAAA,CAAAqB,aAAA,CAACjB,MAAM,CAAC4B,MAAM;IAACM,KAAK,EAAC,KAAK;IAAC,aAAU;EAAgC,GAAC,WAGvD,CAAC,eAEhBtC,KAAA,CAAAqB,aAAA,CAACjB,MAAM,CAAC4B,MAAM;IAACM,KAAK,EAAC,MAAM;IAAC,aAAU;EAAiC,GAAC,YAGzD,CACT,CACD,CACK,CAEJ,CAAC;AAErB;AAEA9B,eAAe,CAACuC,SAAS,GAAGxC,eAAe"}
{"version":3,"file":"Renderer.js","names":["React","useState","useEffect","useMemo","resizeObserver","RendererPropTypes","initSankey","Renderer","_ref","data","_useState","_useState2","_slicedToArray","container","setContainer","render","unwatch","createElement","className","ref","propTypes"],"sources":["../../../src/visualizations/sankey/Renderer.tsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from \"react\";\nimport resizeObserver from \"@/services/resizeObserver\";\nimport { RendererPropTypes } from \"@/visualizations/prop-types\";\n\nimport { SankeyDataType } from \"./index\";\nimport initSankey, { ExtendedSankeyDataType } from \"./initSankey\";\nimport \"./renderer.less\";\n\nexport default function Renderer({ data }: { data: SankeyDataType }) {\n  const [container, setContainer] = useState<null | HTMLDivElement>(null);\n\n  const render = useMemo(() => initSankey(data as ExtendedSankeyDataType), [data]);\n\n  useEffect(() => {\n    if (container) {\n      render(container);\n      const unwatch = resizeObserver(container, () => {\n        render(container);\n      });\n      return unwatch;\n    }\n  }, [container, render]);\n\n  return <div className=\"sankey-visualization-container\" ref={setContainer} />;\n}\n\nRenderer.propTypes = RendererPropTypes;\n"],"mappings":";;;;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,OAAO,QAAQ,OAAO;AAC3D,OAAOC,cAAc;AACrB,SAASC,iBAAiB;AAG1B,OAAOC,UAAU;AACjB;AAEA,eAAe,SAASC,QAAQA,CAAAC,IAAA,EAAqC;EAAA,IAAlCC,IAAI,GAAAD,IAAA,CAAJC,IAAI;EACrC,IAAAC,SAAA,GAAkCT,QAAQ,CAAwB,IAAI,CAAC;IAAAU,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAhEG,SAAS,GAAAF,UAAA;IAAEG,YAAY,GAAAH,UAAA;EAE9B,IAAMI,MAAM,GAAGZ,OAAO,CAAC,MAAMG,UAAU,CAACG,IAA8B,CAAC,EAAE,CAACA,IAAI,CAAC,CAAC;EAEhFP,SAAS,CAAC,MAAM;IACd,IAAIW,SAAS,EAAE;MACbE,MAAM,CAACF,SAAS,CAAC;MACjB,IAAMG,OAAO,GAAGZ,cAAc,CAACS,SAAS,EAAE,MAAM;QAC9CE,MAAM,CAACF,SAAS,CAAC;MACnB,CAAC,CAAC;MACF,OAAOG,OAAO;IAChB;EACF,CAAC,EAAE,CAACH,SAAS,EAAEE,MAAM,CAAC,CAAC;EAEvB,oBAAOf,KAAA,CAAAiB,aAAA;IAAKC,SAAS,EAAC,gCAAgC;IAACC,GAAG,EAAEL;EAAa,CAAE,CAAC;AAC9E;AAEAP,QAAQ,CAACa,SAAS,GAAGf,iBAAiB"}
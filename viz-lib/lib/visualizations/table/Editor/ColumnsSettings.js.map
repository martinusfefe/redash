{"version":3,"file":"ColumnsSettings.js","names":["map","React","Collapse","Tooltip","Typography","sortableElement","SortableContainer","DragHandle","EditorPropTypes","EyeOutlinedIcon","EyeInvisibleOutlinedIcon","ColumnEditor","Text","SortableItem","Panel","ColumnsSettings","_ref","options","onOptionsChange","handleColumnChange","newColumn","event","stopPropagation","columns","c","name","handleColumnsReorder","_ref2","oldIndex","newIndex","splice","createElement","axis","lockAxis","useDragHandle","helperClass","helperContainer","container","firstChild","onSortEnd","containerProps","className","bordered","defaultActiveKey","expandIconPosition","column","index","key","header","Fragment","concat","title","type","style","marginLeft","extra","mouseEnterDelay","mouseLeaveDelay","visible","onClick","_objectSpread","onChange","propTypes"],"sources":["../../../../src/visualizations/table/Editor/ColumnsSettings.tsx"],"sourcesContent":["import { map } from \"lodash\";\nimport React from \"react\";\nimport Collapse from \"antd/lib/collapse\";\nimport Tooltip from \"antd/lib/tooltip\";\nimport Typography from \"antd/lib/typography\";\n// @ts-expect-error ts-migrate(2724) FIXME: Module '\"../../../../node_modules/react-sortable-h... Remove this comment to see the full error message\nimport { sortableElement } from \"react-sortable-hoc\";\nimport { SortableContainer, DragHandle } from \"@/components/sortable\";\nimport { EditorPropTypes } from \"@/visualizations/prop-types\";\n\nimport EyeOutlinedIcon from \"@ant-design/icons/EyeOutlined\";\nimport EyeInvisibleOutlinedIcon from \"@ant-design/icons/EyeInvisibleOutlined\";\n\nimport ColumnEditor from \"./ColumnEditor\";\n\nconst { Text } = Typography;\n\nconst SortableItem = sortableElement(Collapse.Panel);\n\nexport default function ColumnsSettings({ options, onOptionsChange }: any) {\n  function handleColumnChange(newColumn: any, event: any) {\n    if (event) {\n      event.stopPropagation();\n    }\n    const columns = map(options.columns, c => (c.name === newColumn.name ? newColumn : c));\n    onOptionsChange({ columns });\n  }\n\n  function handleColumnsReorder({ oldIndex, newIndex }: any) {\n    const columns = [...options.columns];\n    columns.splice(newIndex, 0, ...columns.splice(oldIndex, 1));\n    onOptionsChange({ columns });\n  }\n\n  return (\n    <SortableContainer\n      axis=\"y\"\n      lockAxis=\"y\"\n      useDragHandle\n      helperClass=\"table-editor-columns-dragged-item\"\n      helperContainer={(container: any) => container.firstChild}\n      onSortEnd={handleColumnsReorder}\n      containerProps={{\n        className: \"table-visualization-editor-columns\",\n      }}>\n      {/* @ts-expect-error ts-migrate(2322) FIXME: Type 'Element' is not assignable to type 'null | u... Remove this comment to see the full error message */}\n      <Collapse bordered={false} defaultActiveKey={[]} expandIconPosition=\"right\">\n        {map(options.columns, (column, index) => (\n          <SortableItem\n            key={column.name}\n            index={index}\n            header={\n              <React.Fragment>\n                <DragHandle />\n                <span data-test={`Table.Column.${column.name}.Name`}>\n                  {column.name}\n                  {column.title !== \"\" && column.title !== column.name && (\n                    <Text type=\"secondary\" style={{ marginLeft: 5 }}>\n                      <i>({column.title})</i>\n                    </Text>\n                  )}\n                </span>\n              </React.Fragment>\n            }\n            extra={\n              <Tooltip title=\"Toggle visibility\" mouseEnterDelay={0} mouseLeaveDelay={0}>\n                {column.visible ? (\n                  <EyeOutlinedIcon\n                    data-test={`Table.Column.${column.name}.Visibility`}\n                    onClick={event => handleColumnChange({ ...column, visible: !column.visible }, event)}\n                  />\n                ) : (\n                  <EyeInvisibleOutlinedIcon\n                    data-test={`Table.Column.${column.name}.Visibility`}\n                    onClick={event => handleColumnChange({ ...column, visible: !column.visible }, event)}\n                  />\n                )}\n              </Tooltip>\n            }>\n            {/* @ts-expect-error ts-migrate(2322) FIXME: Type '(newColumn: any, event: any) => void' is not... Remove this comment to see the full error message */}\n            <ColumnEditor column={column} onChange={handleColumnChange} />\n          </SortableItem>\n        ))}\n      </Collapse>\n    </SortableContainer>\n  );\n}\n\nColumnsSettings.propTypes = EditorPropTypes;\n"],"mappings":"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"}
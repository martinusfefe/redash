{"version":3,"file":"ColumnsSettings.test.js","names":["_react","_interopRequireDefault","require","_enzyme","_getOptions","_ColumnsSettings","obj","__esModule","default","findByTestID","wrapper","testId","find","concat","mount","options","done","data","columns","name","type","rows","a","getOptions","enzyme","createElement","visualizationName","onOptionsChange","changedOptions","expect","toMatchSnapshot","describe","test","el","last","simulate","target","value","checked"],"sources":["../../../../src/visualizations/table/Editor/ColumnsSettings.test.tsx"],"sourcesContent":["import React from \"react\";\nimport enzyme from \"enzyme\";\n\nimport getOptions from \"../getOptions\";\nimport ColumnsSettings from \"./ColumnsSettings\";\n\nfunction findByTestID(wrapper: any, testId: any) {\n  return wrapper.find(`[data-test=\"${testId}\"]`);\n}\n\nfunction mount(options: any, done: any) {\n  const data = {\n    columns: [{ name: \"a\", type: \"string\" }],\n    rows: [{ a: \"test\" }],\n  };\n  options = getOptions(options, data);\n  return enzyme.mount(\n    <ColumnsSettings\n      visualizationName=\"Test\"\n      data={data}\n      options={options}\n      onOptionsChange={changedOptions => {\n        expect(changedOptions).toMatchSnapshot();\n        done();\n      }}\n    />\n  );\n}\n\ndescribe(\"Visualizations -> Table -> Editor -> Columns Settings\", () => {\n  test(\"Toggles column visibility\", done => {\n    const el = mount({}, done);\n\n    findByTestID(el, \"Table.Column.a.Visibility\")\n      .last()\n      .simulate(\"click\");\n  });\n\n  test(\"Changes column title\", done => {\n    const el = mount({}, done);\n    findByTestID(el, \"Table.Column.a.Name\")\n      .last()\n      .simulate(\"click\"); // expand settings\n\n    findByTestID(el, \"Table.Column.a.Title\")\n      .last()\n      .simulate(\"change\", { target: { value: \"test\" } });\n  });\n\n  test(\"Changes column alignment\", done => {\n    const el = mount({}, done);\n    findByTestID(el, \"Table.Column.a.Name\")\n      .last()\n      .simulate(\"click\"); // expand settings\n\n    findByTestID(el, \"Table.Column.a.TextAlignment\")\n      .last()\n      .find('[data-test=\"TextAlignmentSelect.Right\"] input')\n      .simulate(\"change\", { target: { checked: true } });\n  });\n\n  test(\"Enables search by column data\", done => {\n    const el = mount({}, done);\n    findByTestID(el, \"Table.Column.a.Name\")\n      .last()\n      .simulate(\"click\"); // expand settings\n\n    findByTestID(el, \"Table.Column.a.UseForSearch\")\n      .last()\n      .find(\"input\")\n      .simulate(\"change\", { target: { checked: true } });\n  });\n\n  test(\"Changes column display type\", done => {\n    const el = mount({}, done);\n    findByTestID(el, \"Table.Column.a.Name\")\n      .last()\n      .simulate(\"click\"); // expand settings\n\n    findByTestID(el, \"Table.Column.a.DisplayAs\")\n      .last()\n      .simulate(\"mouseDown\");\n    findByTestID(el, \"Table.Column.a.DisplayAs.number\")\n      .last()\n      .simulate(\"click\");\n  });\n});\n"],"mappings":"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"}
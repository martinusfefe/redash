{"version":3,"file":"text.js","names":["_react","_interopRequireDefault","require","_HtmlContent","_editor","_valueFormat","obj","__esModule","default","Editor","_ref","column","onChange","createElement","Fragment","Section","Checkbox","checked","allowHTML","event","target","highlightLinks","initTextColumn","format","createTextFormatter","prepareData","row","text","name","TextColumn","_ref2","_prepareData","friendlyName"],"sources":["../../../../src/visualizations/table/columns/text.tsx"],"sourcesContent":["import React from \"react\";\nimport HtmlContent from \"@/components/HtmlContent\";\nimport { Section, Checkbox } from \"@/components/visualizations/editor\";\nimport { createTextFormatter } from \"@/lib/value-format\";\n\ntype Props = {\n  column: {\n    name: string;\n    allowHTML?: boolean;\n    highlightLinks?: boolean;\n  };\n  onChange: (...args: any[]) => any;\n};\n\nfunction Editor({ column, onChange }: Props) {\n  return (\n    <React.Fragment>\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n      <Section>\n        <Checkbox\n          data-test=\"Table.ColumnEditor.Text.AllowHTML\"\n          checked={column.allowHTML}\n          onChange={event => onChange({ allowHTML: event.target.checked })}>\n          Allow HTML content\n        </Checkbox>\n      </Section>\n\n      {column.allowHTML && (\n        // @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message\n        <Section>\n          <Checkbox\n            data-test=\"Table.ColumnEditor.Text.HighlightLinks\"\n            checked={column.highlightLinks}\n            onChange={event => onChange({ highlightLinks: event.target.checked })}>\n            Highlight links\n          </Checkbox>\n        </Section>\n      )}\n    </React.Fragment>\n  );\n}\n\nexport default function initTextColumn(column: any) {\n  const format = createTextFormatter(column.allowHTML && column.highlightLinks);\n\n  function prepareData(row: any) {\n    return {\n      text: format(row[column.name]),\n    };\n  }\n\n  function TextColumn({ row }: any) {\n    // eslint-disable-line react/prop-types\n    const { text } = prepareData(row);\n    return column.allowHTML ? <HtmlContent>{text}</HtmlContent> : text;\n  }\n\n  TextColumn.prepareData = prepareData;\n\n  return TextColumn;\n}\n\ninitTextColumn.friendlyName = \"Text\";\ninitTextColumn.Editor = Editor;\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,YAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,OAAA,GAAAF,OAAA;AACA,IAAAG,YAAA,GAAAH,OAAA;AAAyD,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAWzD,SAASG,MAAMA,CAAAC,IAAA,EAA8B;EAAA,IAA3BC,MAAM,GAAAD,IAAA,CAANC,MAAM;IAAEC,SAAQ,GAAAF,IAAA,CAARE,QAAQ;EAChC,oBACEZ,MAAA,CAAAQ,OAAA,CAAAK,aAAA,CAACb,MAAA,CAAAQ,OAAK,CAACM,QAAQ,qBAEbd,MAAA,CAAAQ,OAAA,CAAAK,aAAA,CAACT,OAAA,CAAAW,OAAO,qBACNf,MAAA,CAAAQ,OAAA,CAAAK,aAAA,CAACT,OAAA,CAAAY,QAAQ;IACP,aAAU,mCAAmC;IAC7CC,OAAO,EAAEN,MAAM,CAACO,SAAU;IAC1BN,QAAQ,EAAEO,KAAK,IAAIP,SAAQ,CAAC;MAAEM,SAAS,EAAEC,KAAK,CAACC,MAAM,CAACH;IAAQ,CAAC;EAAE,GAAC,oBAE1D,CACH,CAAC,EAETN,MAAM,CAACO,SAAS;EAAA;EACf;EACAlB,MAAA,CAAAQ,OAAA,CAAAK,aAAA,CAACT,OAAA,CAAAW,OAAO,qBACNf,MAAA,CAAAQ,OAAA,CAAAK,aAAA,CAACT,OAAA,CAAAY,QAAQ;IACP,aAAU,wCAAwC;IAClDC,OAAO,EAAEN,MAAM,CAACU,cAAe;IAC/BT,QAAQ,EAAEO,KAAK,IAAIP,SAAQ,CAAC;MAAES,cAAc,EAAEF,KAAK,CAACC,MAAM,CAACH;IAAQ,CAAC;EAAE,GAAC,iBAE/D,CACH,CAEG,CAAC;AAErB;AAEe,SAASK,cAAcA,CAACX,MAAW,EAAE;EAClD,IAAMY,MAAM,GAAG,IAAAC,gCAAmB,EAACb,MAAM,CAACO,SAAS,IAAIP,MAAM,CAACU,cAAc,CAAC;EAE7E,SAASI,WAAWA,CAACC,GAAQ,EAAE;IAC7B,OAAO;MACLC,IAAI,EAAEJ,MAAM,CAACG,GAAG,CAACf,MAAM,CAACiB,IAAI,CAAC;IAC/B,CAAC;EACH;EAEA,SAASC,UAAUA,CAAAC,KAAA,EAAe;IAAA,IAAZJ,GAAG,GAAAI,KAAA,CAAHJ,GAAG;IACvB;IACA,IAAAK,YAAA,GAAiBN,WAAW,CAACC,GAAG,CAAC;MAAzBC,IAAI,GAAAI,YAAA,CAAJJ,IAAI;IACZ,OAAOhB,MAAM,CAACO,SAAS,gBAAGlB,MAAA,CAAAQ,OAAA,CAAAK,aAAA,CAACV,YAAA,CAAAK,OAAW,QAAEmB,IAAkB,CAAC,GAAGA,IAAI;EACpE;EAEAE,UAAU,CAACJ,WAAW,GAAGA,WAAW;EAEpC,OAAOI,UAAU;AACnB;AAEAP,cAAc,CAACU,YAAY,GAAG,MAAM;AACpCV,cAAc,CAACb,MAAM,GAAGA,MAAM"}
{"version":3,"file":"image.test.js","names":["_react","_interopRequireDefault","require","_enzyme","_image","obj","__esModule","default","findByTestID","wrapper","testId","find","concat","mount","column","done","enzyme","createElement","Editor","visualizationName","onChange","changedColumn","expect","toMatchSnapshot","describe","test","el","name","imageUrlTemplate","last","simulate","target","value","imageWidth","imageHeight"],"sources":["../../../../src/visualizations/table/columns/image.test.tsx"],"sourcesContent":["import React from \"react\";\nimport enzyme from \"enzyme\";\n\nimport Column from \"./image\";\n\nfunction findByTestID(wrapper: any, testId: any) {\n  return wrapper.find(`[data-test=\"${testId}\"]`);\n}\n\nfunction mount(column: any, done: any) {\n  return enzyme.mount(\n    <Column.Editor\n      // @ts-expect-error ts-migrate(2322) FIXME: Type '{ visualizationName: string; column: any; on... Remove this comment to see the full error message\n      visualizationName=\"Test\"\n      column={column}\n      onChange={changedColumn => {\n        expect(changedColumn).toMatchSnapshot();\n        done();\n      }}\n    />\n  );\n}\n\ndescribe(\"Visualizations -> Table -> Columns -> Image\", () => {\n  describe(\"Editor\", () => {\n    test(\"Changes URL template\", done => {\n      const el = mount(\n        {\n          name: \"a\",\n          imageUrlTemplate: \"{{ @ }}\",\n        },\n        done\n      );\n\n      findByTestID(el, \"Table.ColumnEditor.Image.UrlTemplate\")\n        .last()\n        .find(\"input\")\n        .simulate(\"change\", { target: { value: \"http://{{ @ }}.jpeg\" } });\n    });\n\n    test(\"Changes width\", done => {\n      const el = mount(\n        {\n          name: \"a\",\n          imageWidth: null,\n        },\n        done\n      );\n\n      findByTestID(el, \"Table.ColumnEditor.Image.Width\")\n        .last()\n        .find(\"input\")\n        .simulate(\"change\", { target: { value: \"400\" } });\n    });\n\n    test(\"Changes height\", done => {\n      const el = mount(\n        {\n          name: \"a\",\n          imageHeight: null,\n        },\n        done\n      );\n\n      findByTestID(el, \"Table.ColumnEditor.Image.Height\")\n        .last()\n        .find(\"input\")\n        .simulate(\"change\", { target: { value: \"300\" } });\n    });\n\n    test(\"Changes title template\", done => {\n      const el = mount(\n        {\n          name: \"a\",\n          imageUrlTemplate: \"{{ @ }}\",\n        },\n        done\n      );\n\n      findByTestID(el, \"Table.ColumnEditor.Image.TitleTemplate\")\n        .last()\n        .find(\"input\")\n        .simulate(\"change\", { target: { value: \"Image {{ @ }}\" } });\n    });\n  });\n});\n"],"mappings":";;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAEA,IAAAE,MAAA,GAAAH,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE7B,SAASG,YAAYA,CAACC,OAAY,EAAEC,MAAW,EAAE;EAC/C,OAAOD,OAAO,CAACE,IAAI,iBAAAC,MAAA,CAAgBF,MAAM,QAAI,CAAC;AAChD;AAEA,SAASG,KAAKA,CAACC,MAAW,EAAEC,IAAS,EAAE;EACrC,OAAOC,eAAM,CAACH,KAAK,eACjBb,MAAA,CAAAO,OAAA,CAAAU,aAAA,CAACb,MAAA,CAAAG,OAAM,CAACW,MAAM;IACZ;IACAC,iBAAiB,EAAC,MAAM;IACxBL,MAAM,EAAEA,MAAO;IACfM,QAAQ,EAAEC,aAAa,IAAI;MACzBC,MAAM,CAACD,aAAa,CAAC,CAACE,eAAe,CAAC,CAAC;MACvCR,IAAI,CAAC,CAAC;IACR;EAAE,CACH,CACH,CAAC;AACH;AAEAS,QAAQ,CAAC,6CAA6C,EAAE,MAAM;EAC5DA,QAAQ,CAAC,QAAQ,EAAE,MAAM;IACvBC,IAAI,CAAC,sBAAsB,EAAEV,IAAI,IAAI;MACnC,IAAMW,EAAE,GAAGb,KAAK,CACd;QACEc,IAAI,EAAE,GAAG;QACTC,gBAAgB,EAAE;MACpB,CAAC,EACDb,IACF,CAAC;MAEDP,YAAY,CAACkB,EAAE,EAAE,sCAAsC,CAAC,CACrDG,IAAI,CAAC,CAAC,CACNlB,IAAI,CAAC,OAAO,CAAC,CACbmB,QAAQ,CAAC,QAAQ,EAAE;QAAEC,MAAM,EAAE;UAAEC,KAAK,EAAE;QAAsB;MAAE,CAAC,CAAC;IACrE,CAAC,CAAC;IAEFP,IAAI,CAAC,eAAe,EAAEV,IAAI,IAAI;MAC5B,IAAMW,EAAE,GAAGb,KAAK,CACd;QACEc,IAAI,EAAE,GAAG;QACTM,UAAU,EAAE;MACd,CAAC,EACDlB,IACF,CAAC;MAEDP,YAAY,CAACkB,EAAE,EAAE,gCAAgC,CAAC,CAC/CG,IAAI,CAAC,CAAC,CACNlB,IAAI,CAAC,OAAO,CAAC,CACbmB,QAAQ,CAAC,QAAQ,EAAE;QAAEC,MAAM,EAAE;UAAEC,KAAK,EAAE;QAAM;MAAE,CAAC,CAAC;IACrD,CAAC,CAAC;IAEFP,IAAI,CAAC,gBAAgB,EAAEV,IAAI,IAAI;MAC7B,IAAMW,EAAE,GAAGb,KAAK,CACd;QACEc,IAAI,EAAE,GAAG;QACTO,WAAW,EAAE;MACf,CAAC,EACDnB,IACF,CAAC;MAEDP,YAAY,CAACkB,EAAE,EAAE,iCAAiC,CAAC,CAChDG,IAAI,CAAC,CAAC,CACNlB,IAAI,CAAC,OAAO,CAAC,CACbmB,QAAQ,CAAC,QAAQ,EAAE;QAAEC,MAAM,EAAE;UAAEC,KAAK,EAAE;QAAM;MAAE,CAAC,CAAC;IACrD,CAAC,CAAC;IAEFP,IAAI,CAAC,wBAAwB,EAAEV,IAAI,IAAI;MACrC,IAAMW,EAAE,GAAGb,KAAK,CACd;QACEc,IAAI,EAAE,GAAG;QACTC,gBAAgB,EAAE;MACpB,CAAC,EACDb,IACF,CAAC;MAEDP,YAAY,CAACkB,EAAE,EAAE,wCAAwC,CAAC,CACvDG,IAAI,CAAC,CAAC,CACNlB,IAAI,CAAC,OAAO,CAAC,CACbmB,QAAQ,CAAC,QAAQ,EAAE;QAAEC,MAAM,EAAE;UAAEC,KAAK,EAAE;QAAgB;MAAE,CAAC,CAAC;IAC/D,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC,CAAC"}
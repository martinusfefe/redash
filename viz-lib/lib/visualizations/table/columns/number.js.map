{"version":3,"file":"number.js","names":["React","useDebouncedCallback","Section","Input","ContextHelp","createNumberFormatter","Editor","_ref","column","onChange","_useDebouncedCallback","_useDebouncedCallback2","_slicedToArray","onChangeDebounced","createElement","label","Fragment","NumberFormatSpecs","defaultValue","numberFormat","event","target","value","initNumberColumn","format","prepareData","row","text","name","NumberColumn","_ref2","_prepareData","friendlyName"],"sources":["../../../../src/visualizations/table/columns/number.tsx"],"sourcesContent":["import React from \"react\";\nimport { useDebouncedCallback } from \"use-debounce\";\nimport { Section, Input, ContextHelp } from \"@/components/visualizations/editor\";\nimport { createNumberFormatter } from \"@/lib/value-format\";\n\ntype Props = {\n  column: {\n    name: string;\n    numberFormat?: string;\n  };\n  onChange: (...args: any[]) => any;\n};\n\nfunction Editor({ column, onChange }: Props) {\n  const [onChangeDebounced] = useDebouncedCallback(onChange, 200);\n\n  return (\n    // @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message\n    <Section>\n      <Input\n        label={\n          <React.Fragment>\n            Number format\n            <ContextHelp.NumberFormatSpecs />\n          </React.Fragment>\n        }\n        data-test=\"Table.ColumnEditor.Number.Format\"\n        defaultValue={column.numberFormat}\n        onChange={(event: any) => onChangeDebounced({ numberFormat: event.target.value })}\n      />\n    </Section>\n  );\n}\n\nexport default function initNumberColumn(column: any) {\n  const format = createNumberFormatter(column.numberFormat, true);\n\n  function prepareData(row: any) {\n    return {\n      text: format(row[column.name]),\n    };\n  }\n\n  function NumberColumn({ row }: any) {\n    // eslint-disable-line react/prop-types\n    const { text } = prepareData(row);\n    return text;\n  }\n\n  NumberColumn.prepareData = prepareData;\n\n  return NumberColumn;\n}\n\ninitNumberColumn.friendlyName = \"Number\";\ninitNumberColumn.Editor = Editor;\n"],"mappings":";;;;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,oBAAoB,QAAQ,cAAc;AACnD,SAASC,OAAO,EAAEC,KAAK,EAAEC,WAAW;AACpC,SAASC,qBAAqB;AAU9B,SAASC,MAAMA,CAAAC,IAAA,EAA8B;EAAA,IAA3BC,MAAM,GAAAD,IAAA,CAANC,MAAM;IAAEC,QAAQ,GAAAF,IAAA,CAARE,QAAQ;EAChC,IAAAC,qBAAA,GAA4BT,oBAAoB,CAACQ,QAAQ,EAAE,GAAG,CAAC;IAAAE,sBAAA,GAAAC,cAAA,CAAAF,qBAAA;IAAxDG,iBAAiB,GAAAF,sBAAA;EAExB;IAAA;IACE;IACAX,KAAA,CAAAc,aAAA,CAACZ,OAAO,qBACNF,KAAA,CAAAc,aAAA,CAACX,KAAK;MACJY,KAAK,eACHf,KAAA,CAAAc,aAAA,CAACd,KAAK,CAACgB,QAAQ,QAAC,eAEd,eAAAhB,KAAA,CAAAc,aAAA,CAACV,WAAW,CAACa,iBAAiB,MAAE,CAClB,CACjB;MACD,aAAU,kCAAkC;MAC5CC,YAAY,EAAEV,MAAM,CAACW,YAAa;MAClCV,QAAQ,EAAGW,KAAU,IAAKP,iBAAiB,CAAC;QAAEM,YAAY,EAAEC,KAAK,CAACC,MAAM,CAACC;MAAM,CAAC;IAAE,CACnF,CACM;EAAC;AAEd;AAEA,eAAe,SAASC,gBAAgBA,CAACf,MAAW,EAAE;EACpD,IAAMgB,MAAM,GAAGnB,qBAAqB,CAACG,MAAM,CAACW,YAAY,EAAE,IAAI,CAAC;EAE/D,SAASM,WAAWA,CAACC,GAAQ,EAAE;IAC7B,OAAO;MACLC,IAAI,EAAEH,MAAM,CAACE,GAAG,CAAClB,MAAM,CAACoB,IAAI,CAAC;IAC/B,CAAC;EACH;EAEA,SAASC,YAAYA,CAAAC,KAAA,EAAe;IAAA,IAAZJ,GAAG,GAAAI,KAAA,CAAHJ,GAAG;IACzB;IACA,IAAAK,YAAA,GAAiBN,WAAW,CAACC,GAAG,CAAC;MAAzBC,IAAI,GAAAI,YAAA,CAAJJ,IAAI;IACZ,OAAOA,IAAI;EACb;EAEAE,YAAY,CAACJ,WAAW,GAAGA,WAAW;EAEtC,OAAOI,YAAY;AACrB;AAEAN,gBAAgB,CAACS,YAAY,GAAG,QAAQ;AACxCT,gBAAgB,CAACjB,MAAM,GAAGA,MAAM"}
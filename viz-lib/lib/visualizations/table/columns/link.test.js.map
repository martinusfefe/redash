{"version":3,"file":"link.test.js","names":["React","enzyme","Column","findByTestID","wrapper","testId","find","concat","mount","column","done","createElement","Editor","visualizationName","onChange","changedColumn","expect","toMatchSnapshot","describe","test","el","name","linkUrlTemplate","last","simulate","target","value","linkTextTemplate","linkTitleTemplate","linkOpenInNewTab","checked"],"sources":["../../../../src/visualizations/table/columns/link.test.tsx"],"sourcesContent":["import React from \"react\";\nimport enzyme from \"enzyme\";\n\nimport Column from \"./link\";\n\nfunction findByTestID(wrapper: any, testId: any) {\n  return wrapper.find(`[data-test=\"${testId}\"]`);\n}\n\nfunction mount(column: any, done: any) {\n  return enzyme.mount(\n    <Column.Editor\n      // @ts-expect-error ts-migrate(2322) FIXME: Type '{ visualizationName: string; column: any; on... Remove this comment to see the full error message\n      visualizationName=\"Test\"\n      column={column}\n      onChange={changedColumn => {\n        expect(changedColumn).toMatchSnapshot();\n        done();\n      }}\n    />\n  );\n}\n\ndescribe(\"Visualizations -> Table -> Columns -> Link\", () => {\n  describe(\"Editor\", () => {\n    test(\"Changes URL template\", done => {\n      const el = mount(\n        {\n          name: \"a\",\n          linkUrlTemplate: \"{{ @ }}\",\n        },\n        done\n      );\n\n      findByTestID(el, \"Table.ColumnEditor.Link.UrlTemplate\")\n        .last()\n        .find(\"input\")\n        .simulate(\"change\", { target: { value: \"http://{{ @ }}/index.html\" } });\n    });\n\n    test(\"Changes text template\", done => {\n      const el = mount(\n        {\n          name: \"a\",\n          linkTextTemplate: \"{{ @ }}\",\n        },\n        done\n      );\n\n      findByTestID(el, \"Table.ColumnEditor.Link.TextTemplate\")\n        .last()\n        .find(\"input\")\n        .simulate(\"change\", { target: { value: \"Text of {{ @ }}\" } });\n    });\n\n    test(\"Changes title template\", done => {\n      const el = mount(\n        {\n          name: \"a\",\n          linkTitleTemplate: \"{{ @ }}\",\n        },\n        done\n      );\n\n      findByTestID(el, \"Table.ColumnEditor.Link.TitleTemplate\")\n        .last()\n        .find(\"input\")\n        .simulate(\"change\", { target: { value: \"Title of {{ @ }}\" } });\n    });\n\n    test(\"Makes link open in new tab \", done => {\n      const el = mount(\n        {\n          name: \"a\",\n          linkOpenInNewTab: false,\n        },\n        done\n      );\n\n      findByTestID(el, \"Table.ColumnEditor.Link.OpenInNewTab\")\n        .last()\n        .find(\"input\")\n        .simulate(\"change\", { target: { checked: true } });\n    });\n  });\n});\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,QAAQ;AAE3B,OAAOC,MAAM;AAEb,SAASC,YAAYA,CAACC,OAAY,EAAEC,MAAW,EAAE;EAC/C,OAAOD,OAAO,CAACE,IAAI,iBAAAC,MAAA,CAAgBF,MAAM,QAAI,CAAC;AAChD;AAEA,SAASG,KAAKA,CAACC,MAAW,EAAEC,IAAS,EAAE;EACrC,OAAOT,MAAM,CAACO,KAAK,eACjBR,KAAA,CAAAW,aAAA,CAACT,MAAM,CAACU,MAAM;IACZ;IACAC,iBAAiB,EAAC,MAAM;IACxBJ,MAAM,EAAEA,MAAO;IACfK,QAAQ,EAAEC,aAAa,IAAI;MACzBC,MAAM,CAACD,aAAa,CAAC,CAACE,eAAe,CAAC,CAAC;MACvCP,IAAI,CAAC,CAAC;IACR;EAAE,CACH,CACH,CAAC;AACH;AAEAQ,QAAQ,CAAC,4CAA4C,EAAE,MAAM;EAC3DA,QAAQ,CAAC,QAAQ,EAAE,MAAM;IACvBC,IAAI,CAAC,sBAAsB,EAAET,IAAI,IAAI;MACnC,IAAMU,EAAE,GAAGZ,KAAK,CACd;QACEa,IAAI,EAAE,GAAG;QACTC,eAAe,EAAE;MACnB,CAAC,EACDZ,IACF,CAAC;MAEDP,YAAY,CAACiB,EAAE,EAAE,qCAAqC,CAAC,CACpDG,IAAI,CAAC,CAAC,CACNjB,IAAI,CAAC,OAAO,CAAC,CACbkB,QAAQ,CAAC,QAAQ,EAAE;QAAEC,MAAM,EAAE;UAAEC,KAAK,EAAE;QAA4B;MAAE,CAAC,CAAC;IAC3E,CAAC,CAAC;IAEFP,IAAI,CAAC,uBAAuB,EAAET,IAAI,IAAI;MACpC,IAAMU,EAAE,GAAGZ,KAAK,CACd;QACEa,IAAI,EAAE,GAAG;QACTM,gBAAgB,EAAE;MACpB,CAAC,EACDjB,IACF,CAAC;MAEDP,YAAY,CAACiB,EAAE,EAAE,sCAAsC,CAAC,CACrDG,IAAI,CAAC,CAAC,CACNjB,IAAI,CAAC,OAAO,CAAC,CACbkB,QAAQ,CAAC,QAAQ,EAAE;QAAEC,MAAM,EAAE;UAAEC,KAAK,EAAE;QAAkB;MAAE,CAAC,CAAC;IACjE,CAAC,CAAC;IAEFP,IAAI,CAAC,wBAAwB,EAAET,IAAI,IAAI;MACrC,IAAMU,EAAE,GAAGZ,KAAK,CACd;QACEa,IAAI,EAAE,GAAG;QACTO,iBAAiB,EAAE;MACrB,CAAC,EACDlB,IACF,CAAC;MAEDP,YAAY,CAACiB,EAAE,EAAE,uCAAuC,CAAC,CACtDG,IAAI,CAAC,CAAC,CACNjB,IAAI,CAAC,OAAO,CAAC,CACbkB,QAAQ,CAAC,QAAQ,EAAE;QAAEC,MAAM,EAAE;UAAEC,KAAK,EAAE;QAAmB;MAAE,CAAC,CAAC;IAClE,CAAC,CAAC;IAEFP,IAAI,CAAC,6BAA6B,EAAET,IAAI,IAAI;MAC1C,IAAMU,EAAE,GAAGZ,KAAK,CACd;QACEa,IAAI,EAAE,GAAG;QACTQ,gBAAgB,EAAE;MACpB,CAAC,EACDnB,IACF,CAAC;MAEDP,YAAY,CAACiB,EAAE,EAAE,sCAAsC,CAAC,CACrDG,IAAI,CAAC,CAAC,CACNjB,IAAI,CAAC,OAAO,CAAC,CACbkB,QAAQ,CAAC,QAAQ,EAAE;QAAEC,MAAM,EAAE;UAAEK,OAAO,EAAE;QAAK;MAAE,CAAC,CAAC;IACtD,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC,CAAC"}
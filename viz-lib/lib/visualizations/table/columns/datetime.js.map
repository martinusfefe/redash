{"version":3,"file":"datetime.js","names":["_react","_interopRequireDefault","require","_useDebounce","_editor","_valueFormat","obj","__esModule","default","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","len","length","arr2","_i","Symbol","iterator","_s","_e","_x","_r","_arr","_n","_d","next","done","push","value","err","return","isArray","Editor","_ref","column","onChange","_useDebouncedCallback","useDebouncedCallback","_useDebouncedCallback2","onChangeDebounced","createElement","Section","Input","label","Fragment","ContextHelp","DateTimeFormatSpecs","defaultValue","dateTimeFormat","event","target","initDateTimeColumn","format","createDateTimeFormatter","prepareData","row","text","DateTimeColumn","_ref2","_prepareData","friendlyName"],"sources":["../../../../src/visualizations/table/columns/datetime.tsx"],"sourcesContent":["import React from \"react\";\nimport { useDebouncedCallback } from \"use-debounce\";\nimport { Section, Input, ContextHelp } from \"@/components/visualizations/editor\";\nimport { createDateTimeFormatter } from \"@/lib/value-format\";\n\ntype Props = {\n  column: {\n    name: string;\n    dateTimeFormat?: string;\n  };\n  onChange: (...args: any[]) => any;\n};\n\nfunction Editor({ column, onChange }: Props) {\n  const [onChangeDebounced] = useDebouncedCallback(onChange, 200);\n\n  return (\n    // @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message\n    <Section>\n      <Input\n        label={\n          <React.Fragment>\n            Date/Time format\n            <ContextHelp.DateTimeFormatSpecs />\n          </React.Fragment>\n        }\n        data-test=\"Table.ColumnEditor.DateTime.Format\"\n        defaultValue={column.dateTimeFormat}\n        onChange={(event: any) => onChangeDebounced({ dateTimeFormat: event.target.value })}\n      />\n    </Section>\n  );\n}\n\nexport default function initDateTimeColumn(column: any) {\n  const format = createDateTimeFormatter(column.dateTimeFormat);\n\n  function prepareData(row: any) {\n    return {\n      text: format(row[column.name]),\n    };\n  }\n\n  function DateTimeColumn({ row }: any) {\n    // eslint-disable-line react/prop-types\n    const { text } = prepareData(row);\n    return text;\n  }\n\n  DateTimeColumn.prepareData = prepareData;\n\n  return DateTimeColumn;\n}\n\ninitDateTimeColumn.friendlyName = \"Date/Time\";\ninitDateTimeColumn.Editor = Editor;\n"],"mappings":"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"}
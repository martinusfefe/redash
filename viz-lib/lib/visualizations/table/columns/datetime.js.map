{"version":3,"file":"datetime.js","names":["React","useDebouncedCallback","Section","Input","ContextHelp","createDateTimeFormatter","Editor","_ref","column","onChange","_useDebouncedCallback","_useDebouncedCallback2","_slicedToArray","onChangeDebounced","createElement","label","Fragment","DateTimeFormatSpecs","defaultValue","dateTimeFormat","event","target","value","initDateTimeColumn","format","prepareData","row","text","name","DateTimeColumn","_ref2","_prepareData","friendlyName"],"sources":["../../../../src/visualizations/table/columns/datetime.tsx"],"sourcesContent":["import React from \"react\";\nimport { useDebouncedCallback } from \"use-debounce\";\nimport { Section, Input, ContextHelp } from \"@/components/visualizations/editor\";\nimport { createDateTimeFormatter } from \"@/lib/value-format\";\n\ntype Props = {\n  column: {\n    name: string;\n    dateTimeFormat?: string;\n  };\n  onChange: (...args: any[]) => any;\n};\n\nfunction Editor({ column, onChange }: Props) {\n  const [onChangeDebounced] = useDebouncedCallback(onChange, 200);\n\n  return (\n    // @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message\n    <Section>\n      <Input\n        label={\n          <React.Fragment>\n            Date/Time format\n            <ContextHelp.DateTimeFormatSpecs />\n          </React.Fragment>\n        }\n        data-test=\"Table.ColumnEditor.DateTime.Format\"\n        defaultValue={column.dateTimeFormat}\n        onChange={(event: any) => onChangeDebounced({ dateTimeFormat: event.target.value })}\n      />\n    </Section>\n  );\n}\n\nexport default function initDateTimeColumn(column: any) {\n  const format = createDateTimeFormatter(column.dateTimeFormat);\n\n  function prepareData(row: any) {\n    return {\n      text: format(row[column.name]),\n    };\n  }\n\n  function DateTimeColumn({ row }: any) {\n    // eslint-disable-line react/prop-types\n    const { text } = prepareData(row);\n    return text;\n  }\n\n  DateTimeColumn.prepareData = prepareData;\n\n  return DateTimeColumn;\n}\n\ninitDateTimeColumn.friendlyName = \"Date/Time\";\ninitDateTimeColumn.Editor = Editor;\n"],"mappings":";;;;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,oBAAoB,QAAQ,cAAc;AACnD,SAASC,OAAO,EAAEC,KAAK,EAAEC,WAAW;AACpC,SAASC,uBAAuB;AAUhC,SAASC,MAAMA,CAAAC,IAAA,EAA8B;EAAA,IAA3BC,MAAM,GAAAD,IAAA,CAANC,MAAM;IAAEC,QAAQ,GAAAF,IAAA,CAARE,QAAQ;EAChC,IAAAC,qBAAA,GAA4BT,oBAAoB,CAACQ,QAAQ,EAAE,GAAG,CAAC;IAAAE,sBAAA,GAAAC,cAAA,CAAAF,qBAAA;IAAxDG,iBAAiB,GAAAF,sBAAA;EAExB;IAAA;IACE;IACAX,KAAA,CAAAc,aAAA,CAACZ,OAAO,qBACNF,KAAA,CAAAc,aAAA,CAACX,KAAK;MACJY,KAAK,eACHf,KAAA,CAAAc,aAAA,CAACd,KAAK,CAACgB,QAAQ,QAAC,kBAEd,eAAAhB,KAAA,CAAAc,aAAA,CAACV,WAAW,CAACa,mBAAmB,MAAE,CACpB,CACjB;MACD,aAAU,oCAAoC;MAC9CC,YAAY,EAAEV,MAAM,CAACW,cAAe;MACpCV,QAAQ,EAAGW,KAAU,IAAKP,iBAAiB,CAAC;QAAEM,cAAc,EAAEC,KAAK,CAACC,MAAM,CAACC;MAAM,CAAC;IAAE,CACrF,CACM;EAAC;AAEd;AAEA,eAAe,SAASC,kBAAkBA,CAACf,MAAW,EAAE;EACtD,IAAMgB,MAAM,GAAGnB,uBAAuB,CAACG,MAAM,CAACW,cAAc,CAAC;EAE7D,SAASM,WAAWA,CAACC,GAAQ,EAAE;IAC7B,OAAO;MACLC,IAAI,EAAEH,MAAM,CAACE,GAAG,CAAClB,MAAM,CAACoB,IAAI,CAAC;IAC/B,CAAC;EACH;EAEA,SAASC,cAAcA,CAAAC,KAAA,EAAe;IAAA,IAAZJ,GAAG,GAAAI,KAAA,CAAHJ,GAAG;IAC3B;IACA,IAAAK,YAAA,GAAiBN,WAAW,CAACC,GAAG,CAAC;MAAzBC,IAAI,GAAAI,YAAA,CAAJJ,IAAI;IACZ,OAAOA,IAAI;EACb;EAEAE,cAAc,CAACJ,WAAW,GAAGA,WAAW;EAExC,OAAOI,cAAc;AACvB;AAEAN,kBAAkB,CAACS,YAAY,GAAG,WAAW;AAC7CT,kBAAkB,CAACjB,MAAM,GAAGA,MAAM"}
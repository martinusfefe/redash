{"version":3,"file":"GeneralSettings.js","names":["isNil","map","filter","difference","React","useMemo","Section","Select","EditorPropTypes","getColumns","column","unusedColumns","v","GeneralSettings","_ref","options","data","onOptionsChange","columns","c","name","latColName","lonColName","classify","createElement","Fragment","label","value","onChange","col","Option","key","allowClear","placeholder","undefined","propTypes"],"sources":["../../../../src/visualizations/map/Editor/GeneralSettings.tsx"],"sourcesContent":["import { isNil, map, filter, difference } from \"lodash\";\nimport React, { useMemo } from \"react\";\nimport { Section, Select } from \"@/components/visualizations/editor\";\nimport { EditorPropTypes } from \"@/visualizations/prop-types\";\n\nfunction getColumns(column: any, unusedColumns: any) {\n  return filter([column, ...unusedColumns], v => !isNil(v));\n}\n\nexport default function GeneralSettings({ options, data, onOptionsChange }: any) {\n  const unusedColumns = useMemo(\n    () =>\n      difference(\n        map(data.columns, c => c.name),\n        [options.latColName, options.lonColName, options.classify]\n      ),\n    [data, options.latColName, options.lonColName, options.classify]\n  );\n\n  return (\n    <React.Fragment>\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n      <Section>\n        <Select\n          label=\"Latitude Column Name\"\n          data-test=\"Map.Editor.LatitudeColumnName\"\n          value={options.latColName}\n          onChange={(latColName: any) => onOptionsChange({ latColName })}>\n          {map(getColumns(options.latColName, unusedColumns), col => (\n            // @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message\n            <Select.Option key={col} data-test={\"Map.Editor.LatitudeColumnName.\" + col}>\n              {col}\n              {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\n            </Select.Option>\n          ))}\n        </Select>\n      </Section>\n\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n      <Section>\n        <Select\n          label=\"Longitude Column Name\"\n          data-test=\"Map.Editor.LongitudeColumnName\"\n          value={options.lonColName}\n          onChange={(lonColName: any) => onOptionsChange({ lonColName })}>\n          {map(getColumns(options.lonColName, unusedColumns), col => (\n            // @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message\n            <Select.Option key={col} data-test={\"Map.Editor.LongitudeColumnName.\" + col}>\n              {col}\n              {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\n            </Select.Option>\n          ))}\n        </Select>\n      </Section>\n\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n      <Section>\n        <Select\n          label=\"Group By\"\n          data-test=\"Map.Editor.GroupBy\"\n          allowClear\n          placeholder=\"none\"\n          value={options.classify || undefined}\n          onChange={(column: any) => onOptionsChange({ classify: column || null })}>\n          {map(getColumns(options.classify, unusedColumns), col => (\n            // @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message\n            <Select.Option key={col} data-test={\"Map.Editor.GroupBy.\" + col}>\n              {col}\n              {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\n            </Select.Option>\n          ))}\n        </Select>\n      </Section>\n    </React.Fragment>\n  );\n}\n\nGeneralSettings.propTypes = EditorPropTypes;\n"],"mappings":"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"}
{"version":3,"file":"Renderer.js","names":["_lodash","require","d3","_interopRequireWildcard","_react","_resizeObserver","_interopRequireDefault","_propTypes","_d3box","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","toString","slice","constructor","name","Array","from","test","len","length","arr2","_i","Symbol","iterator","_s","_e","_x","_r","_arr","_n","_d","next","done","push","value","err","return","isArray","calcIqr","k","d","q1","quartiles","q3","iqr","j","render","container","data","_ref","xAxisLabel","yAxisLabel","select","containerBounds","node","getBoundingClientRect","containerWidth","Math","floor","width","containerHeight","height","margin","top","right","bottom","left","inner","min","Infinity","max","mydata","columns","map","col","xscale","scale","ordinal","domain","rangeBands","boxWidth","each","column","rows","row","ceil","yscale","linear","range","chart","box","whiskers","xAxis","svg","axis","orient","yAxis","xLines","tickSize","yLines","barOffset","selectAll","remove","append","attr","plot","concat","text","enter","_","Renderer","_ref2","options","_useState","useState","_useState2","setContainer","useEffect","unwatch","resizeObserver","createElement","className","ref","propTypes","RendererPropTypes"],"sources":["../../../src/visualizations/box-plot/Renderer.tsx"],"sourcesContent":["import { map, each } from \"lodash\";\nimport * as d3 from \"d3\";\nimport React, { useState, useEffect } from \"react\";\nimport resizeObserver from \"@/services/resizeObserver\";\nimport { RendererPropTypes } from \"@/visualizations/prop-types\";\nimport box from \"./d3box\";\nimport \"./renderer.less\";\n\nfunction calcIqr(k: any) {\n  return (d: any) => {\n    const q1 = d.quartiles[0];\n    const q3 = d.quartiles[2];\n    const iqr = (q3 - q1) * k;\n\n    let i = -1;\n    let j = d.length;\n\n    i += 1;\n    while (d[i] < q1 - iqr) {\n      i += 1;\n    }\n\n    j -= 1;\n    while (d[j] > q3 + iqr) {\n      j -= 1;\n    }\n\n    return [i, j];\n  };\n}\n\nfunction render(container: any, data: any, { xAxisLabel, yAxisLabel }: any) {\n  container = d3.select(container);\n\n  const containerBounds = container.node().getBoundingClientRect();\n  const containerWidth = Math.floor(containerBounds.width);\n  const containerHeight = Math.floor(containerBounds.height);\n\n  const margin = {\n    top: 10,\n    right: 50,\n    bottom: 40,\n    left: 50,\n    inner: 25,\n  };\n  const width = containerWidth - margin.right - margin.left;\n  const height = containerHeight - margin.top - margin.bottom;\n\n  let min = Infinity;\n  let max = -Infinity;\n  const mydata: any = [];\n  let value = 0;\n  let d = [];\n\n  const columns = map(data.columns, col => col.name);\n  // @ts-expect-error ts-migrate(2339) FIXME: Property 'scale' does not exist on type 'typeof im... Remove this comment to see the full error message\n  const xscale = d3.scale\n    .ordinal()\n    .domain(columns)\n    .rangeBands([0, containerWidth - margin.left - margin.right]);\n\n  let boxWidth;\n  if (columns.length > 1) {\n    boxWidth = Math.min(xscale(columns[1]), 120.0);\n  } else {\n    boxWidth = 120.0;\n  }\n  margin.inner = boxWidth / 3.0;\n\n  each(columns, (column, i) => {\n    d = mydata[i] = [];\n    each(data.rows, row => {\n      value = row[column];\n      d.push(value);\n      if (value > max) max = Math.ceil(value);\n      if (value < min) min = Math.floor(value);\n    });\n  });\n\n  // @ts-expect-error ts-migrate(2339) FIXME: Property 'scale' does not exist on type 'typeof im... Remove this comment to see the full error message\n  const yscale = d3.scale\n    .linear()\n    .domain([min * 0.99, max * 1.01])\n    .range([height, 0]);\n\n  const chart = box()\n    .whiskers(calcIqr(1.5))\n    // @ts-expect-error ts-migrate(2339) FIXME: Property 'width' does not exist on type '{ (g: any... Remove this comment to see the full error message\n    .width(boxWidth - 2 * margin.inner)\n    .height(height)\n    .domain([min * 0.99, max * 1.01]);\n  const xAxis = d3.svg\n    // @ts-expect-error ts-migrate(2339) FIXME: Property 'axis' does not exist on type '(url: stri... Remove this comment to see the full error message\n    .axis()\n    .scale(xscale)\n    .orient(\"bottom\");\n\n  const yAxis = d3.svg\n    // @ts-expect-error ts-migrate(2339) FIXME: Property 'axis' does not exist on type '(url: stri... Remove this comment to see the full error message\n    .axis()\n    .scale(yscale)\n    .orient(\"left\");\n\n  const xLines = d3.svg\n    // @ts-expect-error ts-migrate(2339) FIXME: Property 'axis' does not exist on type '(url: stri... Remove this comment to see the full error message\n    .axis()\n    .scale(xscale)\n    .tickSize(height)\n    .orient(\"bottom\");\n\n  const yLines = d3.svg\n    // @ts-expect-error ts-migrate(2339) FIXME: Property 'axis' does not exist on type '(url: stri... Remove this comment to see the full error message\n    .axis()\n    .scale(yscale)\n    .tickSize(width)\n    .orient(\"right\");\n\n  function barOffset(i: any) {\n    return xscale(columns[i]) + (xscale(columns[1]) - margin.inner) / 2.0;\n  }\n\n  container.selectAll(\"*\").remove();\n\n  const svg = container\n    .append(\"svg\")\n    .attr(\"width\", containerWidth)\n    .attr(\"height\", height + margin.bottom + margin.top);\n\n  const plot = svg\n    .append(\"g\")\n    .attr(\"width\", containerWidth - margin.left - margin.right)\n    .attr(\"transform\", `translate(${margin.left},${margin.top})`);\n\n  svg\n    .append(\"text\")\n    .attr(\"class\", \"box\")\n    .attr(\"x\", containerWidth / 2.0)\n    .attr(\"text-anchor\", \"middle\")\n    .attr(\"y\", height + margin.bottom)\n    .text(xAxisLabel);\n\n  svg\n    .append(\"text\")\n    .attr(\"class\", \"box\")\n    .attr(\"transform\", `translate(10,${(height + margin.top + margin.bottom) / 2.0})rotate(-90)`)\n    .attr(\"text-anchor\", \"middle\")\n    .text(yAxisLabel);\n\n  plot\n    .append(\"rect\")\n    .attr(\"class\", \"grid-background\")\n    .attr(\"width\", width)\n    .attr(\"height\", height);\n\n  plot\n    .append(\"g\")\n    .attr(\"class\", \"grid\")\n    .call(yLines);\n\n  plot\n    .append(\"g\")\n    .attr(\"class\", \"grid\")\n    .call(xLines);\n\n  plot\n    .append(\"g\")\n    .attr(\"class\", \"x axis\")\n    .attr(\"transform\", `translate(0,${height})`)\n    .call(xAxis);\n\n  plot\n    .append(\"g\")\n    .attr(\"class\", \"y axis\")\n    .call(yAxis);\n\n  plot\n    .selectAll(\".box\")\n    .data(mydata)\n    .enter()\n    .append(\"g\")\n    .attr(\"class\", \"box\")\n    .attr(\"width\", boxWidth)\n    .attr(\"height\", height)\n    .attr(\"transform\", (_: any, i: any) => `translate(${barOffset(i)},${0})`)\n    .call(chart);\n}\n\nexport default function Renderer({ data, options }: any) {\n  const [container, setContainer] = useState(null);\n\n  useEffect(() => {\n    if (container) {\n      render(container, data, options);\n      const unwatch = resizeObserver(container, () => {\n        render(container, data, options);\n      });\n      return unwatch;\n    }\n  }, [container, data, options]);\n\n  // @ts-expect-error ts-migrate(2322) FIXME: Type 'Dispatch<SetStateAction<null>>' is not assig... Remove this comment to see the full error message\n  return <div className=\"box-plot-deprecated-visualization-container\" ref={setContainer} />;\n}\n\nRenderer.propTypes = RendererPropTypes;\n"],"mappings":"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"}
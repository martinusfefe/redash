{"version":3,"file":"getOptions.js","names":["_lodash","require","_visualizationsSettings","_ColorPalette","_interopRequireDefault","obj","__esModule","default","getDefaultMap","first","keys","visualizationsSettings","choroplethAvailableMaps","DEFAULT_OPTIONS","mapType","keyColumn","targetField","valueColumn","clusteringMode","steps","valueFormat","noValuePlaceholder","colors","min","ColorPalette","max","background","White","borders","noValue","legend","visible","position","alignText","tooltip","enabled","template","popup","getOptions","options","result","merge","bounds","get","isNil","countryCodeColumn","countryCodeType"],"sources":["../../../src/visualizations/choropleth/getOptions.ts"],"sourcesContent":["import { isNil, merge, first, keys, get } from \"lodash\";\nimport { visualizationsSettings } from \"@/visualizations/visualizationsSettings\";\nimport ColorPalette from \"./ColorPalette\";\n\nfunction getDefaultMap() {\n  return first(keys(visualizationsSettings.choroplethAvailableMaps)) || null;\n}\n\nconst DEFAULT_OPTIONS = {\n  mapType: \"countries\",\n  keyColumn: null,\n  targetField: null,\n  valueColumn: null,\n  clusteringMode: \"e\",\n  steps: 5,\n  valueFormat: \"0,0.00\",\n  noValuePlaceholder: \"N/A\",\n  colors: {\n    min: ColorPalette[\"Light Blue\"],\n    max: ColorPalette[\"Dark Blue\"],\n    background: ColorPalette.White,\n    borders: ColorPalette.White,\n    noValue: ColorPalette[\"Light Gray\"],\n  },\n  legend: {\n    visible: true,\n    position: \"bottom-left\",\n    alignText: \"right\",\n  },\n  tooltip: {\n    enabled: true,\n    template: \"<b>{{ @@name }}</b>: {{ @@value }}\",\n  },\n  popup: {\n    enabled: true,\n    template: \"Country: <b>{{ @@name_long }} ({{ @@iso_a2 }})</b>\\n<br>\\nValue: <b>{{ @@value }}</b>\",\n  },\n};\n\nexport default function getOptions(options: any) {\n  const result = merge({}, DEFAULT_OPTIONS, options);\n\n  // Both renderer and editor always provide new `bounds` array, so no need to clone it here.\n  // Keeping original object also reduces amount of updates in components\n  result.bounds = get(options, \"bounds\");\n\n  // @ts-expect-error ts-migrate(7053) FIXME: Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n  if (isNil(visualizationsSettings.choroplethAvailableMaps[result.mapType])) {\n    result.mapType = getDefaultMap();\n  }\n\n  // backward compatibility\n  if (!isNil(result.countryCodeColumn)) {\n    result.keyColumn = result.countryCodeColumn;\n  }\n  delete result.countryCodeColumn;\n\n  if (!isNil(result.countryCodeType)) {\n    result.targetField = result.countryCodeType;\n  }\n  delete result.countryCodeType;\n\n  return result;\n}\n"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AACA,IAAAC,uBAAA,GAAAD,OAAA;AACA,IAAAE,aAAA,GAAAC,sBAAA,CAAAH,OAAA;AAA0C,SAAAG,uBAAAC,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE1C,SAASG,aAAaA,CAAA,EAAG;EACvB,OAAO,IAAAC,aAAK,EAAC,IAAAC,YAAI,EAACC,8CAAsB,CAACC,uBAAuB,CAAC,CAAC,IAAI,IAAI;AAC5E;AAEA,IAAMC,eAAe,GAAG;EACtBC,OAAO,EAAE,WAAW;EACpBC,SAAS,EAAE,IAAI;EACfC,WAAW,EAAE,IAAI;EACjBC,WAAW,EAAE,IAAI;EACjBC,cAAc,EAAE,GAAG;EACnBC,KAAK,EAAE,CAAC;EACRC,WAAW,EAAE,QAAQ;EACrBC,kBAAkB,EAAE,KAAK;EACzBC,MAAM,EAAE;IACNC,GAAG,EAAEC,qBAAY,CAAC,YAAY,CAAC;IAC/BC,GAAG,EAAED,qBAAY,CAAC,WAAW,CAAC;IAC9BE,UAAU,EAAEF,qBAAY,CAACG,KAAK;IAC9BC,OAAO,EAAEJ,qBAAY,CAACG,KAAK;IAC3BE,OAAO,EAAEL,qBAAY,CAAC,YAAY;EACpC,CAAC;EACDM,MAAM,EAAE;IACNC,OAAO,EAAE,IAAI;IACbC,QAAQ,EAAE,aAAa;IACvBC,SAAS,EAAE;EACb,CAAC;EACDC,OAAO,EAAE;IACPC,OAAO,EAAE,IAAI;IACbC,QAAQ,EAAE;EACZ,CAAC;EACDC,KAAK,EAAE;IACLF,OAAO,EAAE,IAAI;IACbC,QAAQ,EAAE;EACZ;AACF,CAAC;AAEc,SAASE,UAAUA,CAACC,OAAY,EAAE;EAC/C,IAAMC,MAAM,GAAG,IAAAC,aAAK,EAAC,CAAC,CAAC,EAAE5B,eAAe,EAAE0B,OAAO,CAAC;;EAElD;EACA;EACAC,MAAM,CAACE,MAAM,GAAG,IAAAC,WAAG,EAACJ,OAAO,EAAE,QAAQ,CAAC;;EAEtC;EACA,IAAI,IAAAK,aAAK,EAACjC,8CAAsB,CAACC,uBAAuB,CAAC4B,MAAM,CAAC1B,OAAO,CAAC,CAAC,EAAE;IACzE0B,MAAM,CAAC1B,OAAO,GAAGN,aAAa,CAAC,CAAC;EAClC;;EAEA;EACA,IAAI,CAAC,IAAAoC,aAAK,EAACJ,MAAM,CAACK,iBAAiB,CAAC,EAAE;IACpCL,MAAM,CAACzB,SAAS,GAAGyB,MAAM,CAACK,iBAAiB;EAC7C;EACA,OAAOL,MAAM,CAACK,iBAAiB;EAE/B,IAAI,CAAC,IAAAD,aAAK,EAACJ,MAAM,CAACM,eAAe,CAAC,EAAE;IAClCN,MAAM,CAACxB,WAAW,GAAGwB,MAAM,CAACM,eAAe;EAC7C;EACA,OAAON,MAAM,CAACM,eAAe;EAE7B,OAAON,MAAM;AACf"}
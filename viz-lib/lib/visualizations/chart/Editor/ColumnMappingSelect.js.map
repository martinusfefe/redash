{"version":3,"file":"ColumnMappingSelect.js","names":["_lodash","require","_react","_interopRequireDefault","_editor","obj","__esModule","default","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","MappingTypes","x","label","y","multiple","series","yError","size","zVal","SwappedMappingTypes","ColumnMappingSelect","_ref","availableColumns","type","onChange","areAxesSwapped","options","sortBy","uniq","flatten","v","isString","_ref2","createElement","Section","Select","concat","mode","allowClear","showSearch","placeholder","column","map","c","Option","defaultProps"],"sources":["../../../../src/visualizations/chart/Editor/ColumnMappingSelect.tsx"],"sourcesContent":["import { isString, map, uniq, flatten, filter, sortBy, keys } from \"lodash\";\nimport React from \"react\";\nimport { Section, Select } from \"@/components/visualizations/editor\";\n\nconst MappingTypes = {\n  x: { label: \"X Column\" },\n  y: { label: \"Y Columns\", multiple: true },\n  series: { label: \"Group by\" },\n  yError: { label: \"Errors column\" },\n  size: { label: \"Bubble Size Column\" },\n  zVal: { label: \"Color Column\" },\n};\n\nconst SwappedMappingTypes = {\n  ...MappingTypes,\n  x: { label: \"Y Column\" },\n  y: { label: \"X Columns\", multiple: true },\n};\n\ntype OwnProps = {\n  value?: string | string[];\n  availableColumns?: string[];\n  type?: any; // TODO: PropTypes.oneOf(keys(MappingTypes))\n  onChange?: (...args: any[]) => any;\n};\n\ntype Props = OwnProps & typeof ColumnMappingSelect.defaultProps;\n\nexport default function ColumnMappingSelect({ value, availableColumns, type, onChange, areAxesSwapped }: Props) {\n  const options = sortBy(filter(uniq(flatten([availableColumns, value])), v => isString(v) && v !== \"\"));\n\n  // this swaps the ui, as the data will be swapped on render\n  const { label, multiple } = !areAxesSwapped ? MappingTypes[type] : SwappedMappingTypes[type];\n\n  return (\n    // @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message\n    <Section>\n      <Select\n        label={label}\n        data-test={`Chart.ColumnMapping.${type}`}\n        mode={multiple ? \"multiple\" : \"default\"}\n        allowClear\n        showSearch\n        placeholder={multiple ? \"Choose columns...\" : \"Choose column...\"}\n        value={value || undefined}\n        // @ts-expect-error ts-migrate(2349) FIXME: This expression is not callable.\n        onChange={(column: any) => onChange(column || null, type)}>\n        {map(options, c => (\n          // @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message\n          <Select.Option key={c} value={c} data-test={`Chart.ColumnMapping.${type}.${c}`}>\n            {c}\n            {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\n          </Select.Option>\n        ))}\n      </Select>\n    </Section>\n  );\n}\n\nColumnMappingSelect.defaultProps = {\n  value: null,\n  availableColumns: [],\n  type: null,\n  onChange: () => {},\n};\n\nColumnMappingSelect.MappingTypes = MappingTypes;\n"],"mappings":"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"}
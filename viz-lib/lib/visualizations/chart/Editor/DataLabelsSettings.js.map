{"version":3,"file":"DataLabelsSettings.js","names":["_lodash","require","_react","_interopRequireDefault","_useDebounce","_editor","_propTypes","obj","__esModule","default","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","len","length","arr2","_i","Symbol","iterator","_s","_e","_x","_r","_arr","_n","_d","next","done","push","value","err","return","isArray","DataLabelsSettings","_ref","options","onOptionsChange","isShowDataLabelsAvailable","includes","globalSeriesType","_useDebouncedCallback","useDebouncedCallback","_useDebouncedCallback2","debouncedOnOptionsChange","createElement","Fragment","Section","Checkbox","defaultChecked","showDataLabels","onChange","event","target","checked","Input","label","ContextHelp","NumberFormatSpecs","defaultValue","numberFormat","e","percentFormat","DateTimeFormatSpecs","dateTimeFormat","placement","arrowPointAtCenter","style","paddingBottom","paddingTop","whiteSpace","placeholder","textFormat","propTypes","EditorPropTypes"],"sources":["../../../../src/visualizations/chart/Editor/DataLabelsSettings.tsx"],"sourcesContent":["import { includes } from \"lodash\";\nimport React from \"react\";\nimport { useDebouncedCallback } from \"use-debounce\";\nimport { Section, Input, Checkbox, ContextHelp } from \"@/components/visualizations/editor\";\nimport { EditorPropTypes } from \"@/visualizations/prop-types\";\n\nexport default function DataLabelsSettings({ options, onOptionsChange }: any) {\n  const isShowDataLabelsAvailable = includes(\n    [\"line\", \"area\", \"column\", \"scatter\", \"pie\", \"heatmap\"],\n    options.globalSeriesType\n  );\n\n  const [debouncedOnOptionsChange] = useDebouncedCallback(onOptionsChange, 200);\n\n  return (\n    <React.Fragment>\n      {isShowDataLabelsAvailable && (\n        // @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message\n        <Section>\n          <Checkbox\n            data-test=\"Chart.DataLabels.ShowDataLabels\"\n            defaultChecked={options.showDataLabels}\n            onChange={event => onOptionsChange({ showDataLabels: event.target.checked })}>\n            Show Data Labels\n          </Checkbox>\n        </Section>\n      )}\n\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n      <Section>\n        <Input\n          label={\n            <React.Fragment>\n              Number Values Format\n              <ContextHelp.NumberFormatSpecs />\n            </React.Fragment>\n          }\n          data-test=\"Chart.DataLabels.NumberFormat\"\n          defaultValue={options.numberFormat}\n          onChange={(e: any) => debouncedOnOptionsChange({ numberFormat: e.target.value })}\n        />\n      </Section>\n\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n      <Section>\n        <Input\n          label={\n            <React.Fragment>\n              Percent Values Format\n              <ContextHelp.NumberFormatSpecs />\n            </React.Fragment>\n          }\n          data-test=\"Chart.DataLabels.PercentFormat\"\n          defaultValue={options.percentFormat}\n          onChange={(e: any) => debouncedOnOptionsChange({ percentFormat: e.target.value })}\n        />\n      </Section>\n\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n      <Section>\n        <Input\n          label={\n            <React.Fragment>\n              Date/Time Values Format\n              <ContextHelp.DateTimeFormatSpecs />\n            </React.Fragment>\n          }\n          data-test=\"Chart.DataLabels.DateTimeFormat\"\n          defaultValue={options.dateTimeFormat}\n          onChange={(e: any) => debouncedOnOptionsChange({ dateTimeFormat: e.target.value })}\n        />\n      </Section>\n\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n      <Section>\n        <Input\n          label={\n            <React.Fragment>\n              Data Labels\n              {/* @ts-expect-error ts-migrate(2746) FIXME: This JSX tag's 'children' prop expects a single ch... Remove this comment to see the full error message */}\n              <ContextHelp placement=\"topRight\" arrowPointAtCenter>\n                <div style={{ paddingBottom: 5 }}>Use special names to access additional properties:</div>\n                <div>\n                  <code>{\"{{ @@name }}\"}</code> series name;\n                </div>\n                <div>\n                  <code>{\"{{ @@x }}\"}</code> x-value;\n                </div>\n                <div>\n                  <code>{\"{{ @@y }}\"}</code> y-value;\n                </div>\n                <div>\n                  <code>{\"{{ @@yPercent }}\"}</code> relative y-value;\n                </div>\n                <div>\n                  <code>{\"{{ @@yError }}\"}</code> y deviation;\n                </div>\n                <div>\n                  <code>{\"{{ @@size }}\"}</code> bubble size;\n                </div>\n                <div style={{ paddingTop: 5 }}>\n                  Also, all query result columns can be referenced\n                  <br />\n                  using\n                  <code style={{ whiteSpace: \"nowrap\" }}>{\"{{ column_name }}\"}</code> syntax.\n                </div>\n              </ContextHelp>\n            </React.Fragment>\n          }\n          data-test=\"Chart.DataLabels.TextFormat\"\n          placeholder=\"(auto)\"\n          defaultValue={options.textFormat}\n          onChange={(e: any) => debouncedOnOptionsChange({ textFormat: e.target.value })}\n        />\n      </Section>\n    </React.Fragment>\n  );\n}\n\nDataLabelsSettings.propTypes = EditorPropTypes;\n"],"mappings":"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"}
{"version":3,"file":"SeriesSettings.test.js","names":["_react","_interopRequireDefault","require","_enzyme","_getOptions","_SeriesSettings","obj","__esModule","default","findByTestID","wrapper","testId","find","concat","mount","options","done","getOptions","enzyme","createElement","visualizationName","data","columns","name","type","rows","a","onOptionsChange","changedOptions","expect","toMatchSnapshot","describe","test","el","globalSeriesType","columnMapping","seriesOptions","label","yAxis","last","simulate","target","value","checked"],"sources":["../../../../src/visualizations/chart/Editor/SeriesSettings.test.tsx"],"sourcesContent":["import React from \"react\";\nimport enzyme from \"enzyme\";\n\nimport getOptions from \"../getOptions\";\nimport SeriesSettings from \"./SeriesSettings\";\n\nfunction findByTestID(wrapper: any, testId: any) {\n  return wrapper.find(`[data-test=\"${testId}\"]`);\n}\n\nfunction mount(options: any, done: any) {\n  options = getOptions(options);\n  return enzyme.mount(\n    <SeriesSettings\n      visualizationName=\"Test\"\n      data={{ columns: [{ name: \"a\", type: \"string\" }], rows: [{ a: \"test\" }] }}\n      options={options}\n      onOptionsChange={changedOptions => {\n        expect(changedOptions).toMatchSnapshot();\n        done();\n      }}\n    />\n  );\n}\n\ndescribe(\"Visualizations -> Chart -> Editor -> Series Settings\", () => {\n  test(\"Changes series type\", done => {\n    const el = mount(\n      {\n        globalSeriesType: \"column\",\n        columnMapping: { a: \"y\" },\n        seriesOptions: {\n          a: { type: \"column\", label: \"a\", yAxis: 0 },\n        },\n      },\n      done\n    );\n\n    findByTestID(el, \"Chart.Series.a.Type\")\n      .last()\n      .simulate(\"mouseDown\");\n    findByTestID(el, \"Chart.ChartType.area\")\n      .last()\n      .simulate(\"click\");\n  });\n\n  test(\"Changes series label\", done => {\n    const el = mount(\n      {\n        globalSeriesType: \"column\",\n        columnMapping: { a: \"y\" },\n        seriesOptions: {\n          a: { type: \"column\", label: \"a\", yAxis: 0 },\n        },\n      },\n      done\n    );\n\n    findByTestID(el, \"Chart.Series.a.Label\")\n      .last()\n      .simulate(\"change\", { target: { value: \"test\" } });\n  });\n\n  test(\"Changes series axis\", done => {\n    const el = mount(\n      {\n        globalSeriesType: \"column\",\n        columnMapping: { a: \"y\" },\n        seriesOptions: {\n          a: { type: \"column\", name: \"a\", yAxis: 0 },\n        },\n      },\n      done\n    );\n\n    findByTestID(el, \"Chart.Series.a.UseRightAxis\")\n      .last()\n      .find(\"input\")\n      .simulate(\"change\", { target: { checked: true } });\n  });\n});\n"],"mappings":";;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAEA,IAAAE,WAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,eAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA8C,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE9C,SAASG,YAAYA,CAACC,OAAY,EAAEC,MAAW,EAAE;EAC/C,OAAOD,OAAO,CAACE,IAAI,iBAAAC,MAAA,CAAgBF,MAAM,QAAI,CAAC;AAChD;AAEA,SAASG,KAAKA,CAACC,OAAY,EAAEC,IAAS,EAAE;EACtCD,OAAO,GAAG,IAAAE,mBAAU,EAACF,OAAO,CAAC;EAC7B,OAAOG,eAAM,CAACJ,KAAK,eACjBd,MAAA,CAAAQ,OAAA,CAAAW,aAAA,CAACd,eAAA,CAAAG,OAAc;IACbY,iBAAiB,EAAC,MAAM;IACxBC,IAAI,EAAE;MAAEC,OAAO,EAAE,CAAC;QAAEC,IAAI,EAAE,GAAG;QAAEC,IAAI,EAAE;MAAS,CAAC,CAAC;MAAEC,IAAI,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAO,CAAC;IAAE,CAAE;IAC1EX,OAAO,EAAEA,OAAQ;IACjBY,eAAe,EAAEC,cAAc,IAAI;MACjCC,MAAM,CAACD,cAAc,CAAC,CAACE,eAAe,CAAC,CAAC;MACxCd,IAAI,CAAC,CAAC;IACR;EAAE,CACH,CACH,CAAC;AACH;AAEAe,QAAQ,CAAC,sDAAsD,EAAE,MAAM;EACrEC,IAAI,CAAC,qBAAqB,EAAEhB,IAAI,IAAI;IAClC,IAAMiB,EAAE,GAAGnB,KAAK,CACd;MACEoB,gBAAgB,EAAE,QAAQ;MAC1BC,aAAa,EAAE;QAAET,CAAC,EAAE;MAAI,CAAC;MACzBU,aAAa,EAAE;QACbV,CAAC,EAAE;UAAEF,IAAI,EAAE,QAAQ;UAAEa,KAAK,EAAE,GAAG;UAAEC,KAAK,EAAE;QAAE;MAC5C;IACF,CAAC,EACDtB,IACF,CAAC;IAEDP,YAAY,CAACwB,EAAE,EAAE,qBAAqB,CAAC,CACpCM,IAAI,CAAC,CAAC,CACNC,QAAQ,CAAC,WAAW,CAAC;IACxB/B,YAAY,CAACwB,EAAE,EAAE,sBAAsB,CAAC,CACrCM,IAAI,CAAC,CAAC,CACNC,QAAQ,CAAC,OAAO,CAAC;EACtB,CAAC,CAAC;EAEFR,IAAI,CAAC,sBAAsB,EAAEhB,IAAI,IAAI;IACnC,IAAMiB,EAAE,GAAGnB,KAAK,CACd;MACEoB,gBAAgB,EAAE,QAAQ;MAC1BC,aAAa,EAAE;QAAET,CAAC,EAAE;MAAI,CAAC;MACzBU,aAAa,EAAE;QACbV,CAAC,EAAE;UAAEF,IAAI,EAAE,QAAQ;UAAEa,KAAK,EAAE,GAAG;UAAEC,KAAK,EAAE;QAAE;MAC5C;IACF,CAAC,EACDtB,IACF,CAAC;IAEDP,YAAY,CAACwB,EAAE,EAAE,sBAAsB,CAAC,CACrCM,IAAI,CAAC,CAAC,CACNC,QAAQ,CAAC,QAAQ,EAAE;MAAEC,MAAM,EAAE;QAAEC,KAAK,EAAE;MAAO;IAAE,CAAC,CAAC;EACtD,CAAC,CAAC;EAEFV,IAAI,CAAC,qBAAqB,EAAEhB,IAAI,IAAI;IAClC,IAAMiB,EAAE,GAAGnB,KAAK,CACd;MACEoB,gBAAgB,EAAE,QAAQ;MAC1BC,aAAa,EAAE;QAAET,CAAC,EAAE;MAAI,CAAC;MACzBU,aAAa,EAAE;QACbV,CAAC,EAAE;UAAEF,IAAI,EAAE,QAAQ;UAAED,IAAI,EAAE,GAAG;UAAEe,KAAK,EAAE;QAAE;MAC3C;IACF,CAAC,EACDtB,IACF,CAAC;IAEDP,YAAY,CAACwB,EAAE,EAAE,6BAA6B,CAAC,CAC5CM,IAAI,CAAC,CAAC,CACN3B,IAAI,CAAC,OAAO,CAAC,CACb4B,QAAQ,CAAC,QAAQ,EAAE;MAAEC,MAAM,EAAE;QAAEE,OAAO,EAAE;MAAK;IAAE,CAAC,CAAC;EACtD,CAAC,CAAC;AACJ,CAAC,CAAC"}
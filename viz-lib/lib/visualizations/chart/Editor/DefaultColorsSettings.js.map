{"version":3,"file":"DefaultColorsSettings.js","names":["_lodash","require","_react","_interopRequireWildcard","_table","_interopRequireDefault","_ColorPicker","_propTypes","_ColorPalette","_getChartData","_editor","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","TypeError","Number","DefaultColorsSettings","_ref","options","data","onOptionsChange","colors","useMemo","Automatic","AllColorPalettes","color_scheme","series","map","getChartData","rows","_ref2","name","color","seriesOptions","updateSeriesOption","useCallback","prop","columns","title","dataIndex","width","render","unused","item","createElement","concat","interactive","presetColors","placement","onChange","addonAfter","Label","Fragment","Section","Select","label","defaultValue","val","option","Option","showHeader","dataSource","pagination","propTypes","EditorPropTypes"],"sources":["../../../../src/visualizations/chart/Editor/DefaultColorsSettings.tsx"],"sourcesContent":["import { map } from \"lodash\";\nimport React, { useMemo, useCallback } from \"react\";\nimport Table from \"antd/lib/table\";\nimport ColorPicker from \"@/components/ColorPicker\";\nimport { EditorPropTypes } from \"@/visualizations/prop-types\";\nimport { AllColorPalettes } from \"@/visualizations/ColorPalette\";\nimport getChartData from \"../getChartData\";\nimport { Section, Select } from \"@/components/visualizations/editor\";\n\nexport default function DefaultColorsSettings({ options, data, onOptionsChange }: any) {\n  const colors = useMemo(\n    () => ({\n      Automatic: null,\n      // @ts-expect-error ts-migrate(7053) FIXME: Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n      ...AllColorPalettes[options.color_scheme],\n    }),\n    [options.color_scheme]\n  );\n\n  const series = useMemo(\n    () =>\n      map(getChartData(data.rows, options), ({ name }) => ({\n        key: name,\n        color: (options.seriesOptions[name] || {}).color || null,\n      })),\n    [options, data]\n  );\n\n  const updateSeriesOption = useCallback(\n    (key, prop, value) => {\n      onOptionsChange({\n        seriesOptions: {\n          [key]: {\n            [prop]: value,\n          },\n        },\n      });\n    },\n    [onOptionsChange]\n  );\n\n  const columns = [\n    {\n      title: \"Series\",\n      dataIndex: \"key\",\n    },\n    {\n      title: \"Color\",\n      dataIndex: \"color\",\n      width: \"1%\",\n      render: (unused: any, item: any) => (\n        <ColorPicker\n          // @ts-expect-error ts-migrate(2322) FIXME: Type 'string' is not assignable to type 'never'.\n          data-test={`Chart.Series.${item.key}.Color`}\n          // @ts-expect-error ts-migrate(2322) FIXME: Type 'boolean' is not assignable to type 'never'.\n          interactive\n          // @ts-expect-error ts-migrate(2322) FIXME: Type '{ \"Indian Red\": string; \"Green 2\": string; \"... Remove this comment to see the full error message\n          presetColors={colors}\n          // @ts-expect-error ts-migrate(2322) FIXME: Type 'string' is not assignable to type 'never'.\n          placement=\"topRight\"\n          // @ts-expect-error ts-migrate(2322) FIXME: Type 'any' is not assignable to type 'never'.\n          color={item.color}\n          // @ts-expect-error ts-migrate(2322) FIXME: Type '(value: any) => void' is not assignable to t... Remove this comment to see the full error message\n          onChange={(value: any) => updateSeriesOption(item.key, \"color\", value)}\n          // @ts-expect-error ts-migrate(2322) FIXME: Type 'Element' is not assignable to type 'never'.\n          addonAfter={<ColorPicker.Label color={item.color} presetColors={colors} />}\n        />\n      ),\n    },\n  ];\n\n  return (\n    <React.Fragment>\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\n      <Section>\n          <Select\n            label=\"Color Scheme\"\n            defaultValue={options.color_scheme}\n            data-test=\"ColorScheme\"\n            onChange={(val : any) => onOptionsChange({ color_scheme: val })}>\n            {Object.keys(AllColorPalettes).map(option => (\n             // @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message\n              <Select.Option data-test={`ColorOption${option}`} key={option} value={option}>{option}</Select.Option>\n            ))}\n          </Select>\n        </Section>\n      {/* @ts-expect-error ts-migrate(2322) FIXME: Type 'boolean[]' is not assignable to type 'object... Remove this comment to see the full error message */}\n      <Table showHeader={false} dataSource={series} columns={columns} pagination={false} />\n    </React.Fragment>\n  )\n}\n\nDefaultColorsSettings.propTypes = EditorPropTypes;\n"],"mappings":"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"}
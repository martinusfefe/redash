{"version":3,"file":"utils.js","names":["isUndefined","moment","plotlyCleanNumber","cleanNumber","value","getSeriesAxis","series","options","seriesOptions","name","type","globalSeriesType","yAxis","stacking","normalizeValue","axisType","dateTimeFormat","arguments","length","undefined","utc","isValid","isMoment","format"],"sources":["../../../../src/visualizations/chart/plotly/utils.ts"],"sourcesContent":["import { isUndefined } from \"lodash\";\nimport moment from \"moment\";\n// @ts-expect-error ts-migrate(7016) FIXME: Could not find a declaration file for module 'plot... Remove this comment to see the full error message\nimport plotlyCleanNumber from \"plotly.js/src/lib/clean_number\";\n\nexport function cleanNumber(value: any) {\n  return isUndefined(value) ? value : plotlyCleanNumber(value);\n}\n\nexport function getSeriesAxis(series: any, options: any) {\n  const seriesOptions = options.seriesOptions[series.name] || { type: options.globalSeriesType };\n  if (seriesOptions.yAxis === 1 && (!options.series.stacking || seriesOptions.type === \"line\")) {\n    return \"y2\";\n  }\n  return \"y\";\n}\n\nexport function normalizeValue(value: any, axisType: any, dateTimeFormat = \"YYYY-MM-DD HH:mm:ss\") {\n  if (axisType === \"datetime\" && moment.utc(value).isValid()) {\n    value = moment.utc(value);\n  }\n  if (moment.isMoment(value)) {\n    return value.format(dateTimeFormat);\n  }\n  return value;\n}\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,QAAQ;AACpC,OAAOC,MAAM,MAAM,QAAQ;AAC3B;AACA,OAAOC,iBAAiB,MAAM,gCAAgC;AAE9D,OAAO,SAASC,WAAWA,CAACC,KAAU,EAAE;EACtC,OAAOJ,WAAW,CAACI,KAAK,CAAC,GAAGA,KAAK,GAAGF,iBAAiB,CAACE,KAAK,CAAC;AAC9D;AAEA,OAAO,SAASC,aAAaA,CAACC,MAAW,EAAEC,OAAY,EAAE;EACvD,IAAMC,aAAa,GAAGD,OAAO,CAACC,aAAa,CAACF,MAAM,CAACG,IAAI,CAAC,IAAI;IAAEC,IAAI,EAAEH,OAAO,CAACI;EAAiB,CAAC;EAC9F,IAAIH,aAAa,CAACI,KAAK,KAAK,CAAC,KAAK,CAACL,OAAO,CAACD,MAAM,CAACO,QAAQ,IAAIL,aAAa,CAACE,IAAI,KAAK,MAAM,CAAC,EAAE;IAC5F,OAAO,IAAI;EACb;EACA,OAAO,GAAG;AACZ;AAEA,OAAO,SAASI,cAAcA,CAACV,KAAU,EAAEW,QAAa,EAA0C;EAAA,IAAxCC,cAAc,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,qBAAqB;EAC9F,IAAIF,QAAQ,KAAK,UAAU,IAAId,MAAM,CAACmB,GAAG,CAAChB,KAAK,CAAC,CAACiB,OAAO,CAAC,CAAC,EAAE;IAC1DjB,KAAK,GAAGH,MAAM,CAACmB,GAAG,CAAChB,KAAK,CAAC;EAC3B;EACA,IAAIH,MAAM,CAACqB,QAAQ,CAAClB,KAAK,CAAC,EAAE;IAC1B,OAAOA,KAAK,CAACmB,MAAM,CAACP,cAAc,CAAC;EACrC;EACA,OAAOZ,KAAK;AACd"}
{"version":3,"file":"utils.js","names":["_lodash","require","_moment","_interopRequireDefault","_clean_number","obj","__esModule","default","cleanNumber","value","isUndefined","plotlyCleanNumber","getSeriesAxis","series","options","seriesOptions","name","type","globalSeriesType","yAxis","stacking","normalizeValue","axisType","dateTimeFormat","arguments","length","undefined","moment","utc","isValid","isMoment","format"],"sources":["../../../../src/visualizations/chart/plotly/utils.ts"],"sourcesContent":["import { isUndefined } from \"lodash\";\nimport moment from \"moment\";\n// @ts-expect-error ts-migrate(7016) FIXME: Could not find a declaration file for module 'plot... Remove this comment to see the full error message\nimport plotlyCleanNumber from \"plotly.js/src/lib/clean_number\";\n\nexport function cleanNumber(value: any) {\n  return isUndefined(value) ? value : plotlyCleanNumber(value);\n}\n\nexport function getSeriesAxis(series: any, options: any) {\n  const seriesOptions = options.seriesOptions[series.name] || { type: options.globalSeriesType };\n  if (seriesOptions.yAxis === 1 && (!options.series.stacking || seriesOptions.type === \"line\")) {\n    return \"y2\";\n  }\n  return \"y\";\n}\n\nexport function normalizeValue(value: any, axisType: any, dateTimeFormat = \"YYYY-MM-DD HH:mm:ss\") {\n  if (axisType === \"datetime\" && moment.utc(value).isValid()) {\n    value = moment.utc(value);\n  }\n  if (moment.isMoment(value)) {\n    return value.format(dateTimeFormat);\n  }\n  return value;\n}\n"],"mappings":";;;;;;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AACA,IAAAC,OAAA,GAAAC,sBAAA,CAAAF,OAAA;AAEA,IAAAG,aAAA,GAAAD,sBAAA,CAAAF,OAAA;AAA+D,SAAAE,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAD/D;;AAGO,SAASG,WAAWA,CAACC,KAAU,EAAE;EACtC,OAAO,IAAAC,mBAAW,EAACD,KAAK,CAAC,GAAGA,KAAK,GAAG,IAAAE,qBAAiB,EAACF,KAAK,CAAC;AAC9D;AAEO,SAASG,aAAaA,CAACC,MAAW,EAAEC,OAAY,EAAE;EACvD,IAAMC,aAAa,GAAGD,OAAO,CAACC,aAAa,CAACF,MAAM,CAACG,IAAI,CAAC,IAAI;IAAEC,IAAI,EAAEH,OAAO,CAACI;EAAiB,CAAC;EAC9F,IAAIH,aAAa,CAACI,KAAK,KAAK,CAAC,KAAK,CAACL,OAAO,CAACD,MAAM,CAACO,QAAQ,IAAIL,aAAa,CAACE,IAAI,KAAK,MAAM,CAAC,EAAE;IAC5F,OAAO,IAAI;EACb;EACA,OAAO,GAAG;AACZ;AAEO,SAASI,cAAcA,CAACZ,KAAU,EAAEa,QAAa,EAA0C;EAAA,IAAxCC,cAAc,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,qBAAqB;EAC9F,IAAIF,QAAQ,KAAK,UAAU,IAAIK,eAAM,CAACC,GAAG,CAACnB,KAAK,CAAC,CAACoB,OAAO,CAAC,CAAC,EAAE;IAC1DpB,KAAK,GAAGkB,eAAM,CAACC,GAAG,CAACnB,KAAK,CAAC;EAC3B;EACA,IAAIkB,eAAM,CAACG,QAAQ,CAACrB,KAAK,CAAC,EAAE;IAC1B,OAAOA,KAAK,CAACsB,MAAM,CAACR,cAAc,CAAC;EACrC;EACA,OAAOd,KAAK;AACd"}